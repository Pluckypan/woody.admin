webpackJsonp([33],{557:function(e,t,n){function s(e){a||n(909)}var a=!1,o=n(56)(n(847),n(963),s,null,null);o.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/bookmarks/tree.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] tree.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},847:function(e,t,n){"use strict";(function(e,s){Object.defineProperty(t,"__esModule",{value:!0});var a=n(221),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={data:function(){var e=this;return{param:{keyName:"id",titleName:"name",dataMode:"list",getDatas:function(t,n){e.getData(t,function(e){n(e)})}},selectItem:null}},mounted:function(){},methods:{edit:function(e){this.$set(e,"editValue",e.name),this.$set(e,"editing",!0)},updateValue:function(e){this.$set(e,"editing",!1),this.$refs.demo.updateTreeItem(e.id,{name:e.editValue})},append:function(e){this.$refs.demo.appendTreeItem(e.id,{id:o.default.uuid(),name:"测试"})},remove:function(e){this.$refs.demo.removeTreeItem(e.id)},choose:function(e){},select:function(e){this.selectItem=e},open:function(t){t.isOpen=!t.isOpen,t.isCat&&("h-icon-angle-right"!=t.expIcon&&"h-icon-angle-down"!=t.expIcon||(e(t.isOpen),t.isOpen?t.expIcon="h-icon-angle-right":t.expIcon="h-icon-angle-down"))},expand:function(e){this.$refs.demo.expand(e)},expandAll:function(){this.$refs.demo.expandAll()},foldAll:function(){this.$refs.demo.foldAll()},getData:function(e,t){var n=this;console.log(e?"id="+e.id+" isCat="+e.isCat:null),e&&1!=e.isCat?t([]):n.getCategory(e,function(s){s&&s.length>0?(t(s),e&&(e.expIcon="h-icon-angle-down")):(e&&(e.expIcon="h-tree-item-bookmark"),n.getBookmark(e.id,t))})},getBookmark:function(e,t){var n={cid:e};s.Bookmark.getAll(n,function(e,n){var s=[];n&&n.length>0&&(s=n.map(function(e){return e.treeIcon="icon-ribbon",e.expIcon="h-tree-item-bookmark",e.isCat=!1,e})),t(s)})},getCategory:function(e,t){var n={pid:e?e.id:"root"},a=this;s.Category.search(n,0,function(n,s){var o=[];s&&s.length>0&&(o=s.map(function(e){return e.treeIcon="icon-folder",e.expIcon="h-icon-angle-right",e.isCat=!0,e}));var l=e?e.id:"root";a.getBookmark(l,function(e){t(o.concat(e))})})}}}}).call(t,n(149),n(216).default)},909:function(e,t){},963:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-basic-vue frame-page h-panel"},[e._m(0),e._v(" "),n("div",{staticClass:"h-panel-body tree4-demo-vue"},[n("Row",[n("Cell",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[n("Tree",{ref:"demo",attrs:{option:e.param,filterable:!1,selectOnClick:"",className:"h-tree-theme-row-selected"},on:{open:e.open,select:e.select,choose:e.choose},scopedSlots:e._u([{key:"item",fn:function(t){var s=t.item;return[n("span",[n("i",{class:s.expIcon})]),e._v(" "),n("div",{staticClass:"tree-show-custom"},[n("span",{class:s.treeIcon}),e._v(" "),s.editing?n("input",{directives:[{name:"model",rawName:"v-model",value:s.editValue,expression:"item.editValue"}],attrs:{type:"text"},domProps:{value:s.editValue},on:{blur:function(t){return e.updateValue(s)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateValue(s)},input:function(t){t.target.composing||e.$set(s,"editValue",t.target.value)}}}):n("span",{staticClass:"tree-show-title"},[e._v(e._s(s.name))]),e._v(" "),s.editing?e._e():n("span",{staticClass:"tree-edit-part"})])]}}])})],1),e._v(" "),n("Cell",{attrs:{xs:24,sm:24,md:10,lg:10,xl:10}},[null!=e.selectItem&&1==e.selectItem.isCat?n("Form",{attrs:{readonly:!0}},[n("FormItem",{attrs:{label:"编码"}},[e._v(e._s(e.selectItem.id))]),e._v(" "),n("FormItem",{attrs:{label:"名称"}},[e._v(e._s(e.selectItem.name))]),e._v(" "),n("FormItem",{attrs:{label:"日期"}},[e._v(e._s(e.selectItem.create_time))]),e._v(" "),e.selectItem.desc&&e.selectItem.desc.length>0?n("FormItem",{attrs:{label:"备注"}},[e._v(e._s(e.selectItem.desc))]):e._e()],1):e._e(),e._v(" "),null!=e.selectItem&&0==e.selectItem.isCat?n("Form",{attrs:{readonly:!0}},[n("FormItem",{attrs:{label:"编码"}},[e._v(e._s(e.selectItem.id))]),e._v(" "),n("FormItem",{attrs:{label:"名称"}},[e._v(e._s(e.selectItem.name))]),e._v(" "),n("FormItem",{attrs:{label:"日期"}},[e._v(e._s(e.selectItem.create_time))]),e._v(" "),n("FormItem",{attrs:{label:"链接"}},[n("a",{attrs:{href:e.selectItem.url,target:"_blank"}},[e._v(e._s(e.selectItem.url))])]),e._v(" "),e.selectItem.desc&&e.selectItem.desc.length>0?n("FormItem",{attrs:{label:"备注"}},[e._v(e._s(e.selectItem.desc))]):e._e(),e._v(" "),e.selectItem.tag&&e.selectItem.tag.length>0?n("div",{staticClass:"divider",staticStyle:{"margin-left":"40px"}}):e._e(),e._v(" "),e.selectItem.tag&&e.selectItem.tag.length>0?n("FormItem",{attrs:{label:"标签"}},[n("TagInput",{staticStyle:{width:"100%"},attrs:{readonly:!0},model:{value:e.selectItem.tag,callback:function(t){e.$set(e.selectItem,"tag",t)},expression:"selectItem.tag"}})],1):e._e()],1):e._e()],1)],1)],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"h-panel-bar"},[n("span",{staticClass:"h-panel-title"},[e._v("我的书签")])])}]},e.exports.render._withStripped=!0}});