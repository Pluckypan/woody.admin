webpackJsonp([38],{552:function(e,t,o){function r(e){a||o(891)}var a=!1,s=o(56)(o(845),o(943),r,"data-v-034efc54",null);s.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/bookmarks/bookmark.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] bookmark.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},845:function(e,t,o){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var a=o(64),s=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={data:function(){return{mode:"single",bookmark:{cid:"root",id:e.IDMaker.gen(),name:"",desc:"",tag:[],hot:!1,url:"",order:0,create_time:(0,s.default)().format("f")},cats:[{title:"根",key:"root"}],isEdit:!1,validationRules:{required:["cid","id","name","url","order","create_time"],url:["url"]}}},mounted:function(){var t=this.$route.query.id,o=this;t?(o.isEdit=!0,e.Bookmark.find(t,function(e,t){t&&(o.bookmark={cid:t.cid,id:t.id,name:t.name,desc:t.desc,tag:t.tag,hot:t.hot,url:t.url,order:t.order,create_time:t.create_time})})):o.isEdit=!1,e.Category.findCats(function(e,t){o.cats=t})},methods:{open:function(){window.open(this.bookmark.url)},save:function(){if(this.$refs.form.valid().result){var t=this;1==t.isEdit?e.Bookmark.update(this.bookmark,function(e,o){o&&o>0&&t.$Message("更新成功")}):e.Bookmark.push(r.copy(this.bookmark),function(e,o){t.$Message("保存成功"),t.reset()})}},reset:function(){this.bookmark.id=e.IDMaker.gen(),this.bookmark.create_time=(0,s.default)().format("f"),this.bookmark.desc="",this.bookmark.cid="root",this.bookmark.name="",this.bookmark.url="",this.bookmark.tag=[],this.bookmark.order=0,this.isEdit=!1,this.$refs.form.reset()},del:function(){var t=this;e.Bookmark.remove(this.bookmark,function(e,o){t.reset()})}}}}).call(t,o(216).default,o(62).default)},891:function(e,t){},943:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-form frame-page basic-form-vue"},[o("div",{staticClass:"h-panel"},[o("div",{staticClass:"h-panel-bar"},[o("span",{staticClass:"h-panel-title"},[e._v(e._s(this.isEdit?"编辑书签":"添加书签"))])]),e._v(" "),o("div",{staticClass:"h-panel-body"},[o("Form",{ref:"form",attrs:{"label-width":110,mode:"twocolumn",model:e.bookmark,rules:e.validationRules,showErrorTip:""}},[o("FormItem",{attrs:{label:"分类",prop:"cid",single:""}},[o("Select",{attrs:{datas:e.cats},model:{value:e.bookmark.cid,callback:function(t){e.$set(e.bookmark,"cid",t)},expression:"bookmark.cid"}})],1),e._v(" "),o("FormItem",{attrs:{label:"名称",prop:"name"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.bookmark.name,expression:"bookmark.name"},{name:"wordlimit",rawName:"v-wordlimit",value:50,expression:"50"}],attrs:{type:"text",placeholder:"限制输入10个字"},domProps:{value:e.bookmark.name},on:{input:function(t){t.target.composing||e.$set(e.bookmark,"name",t.target.value)}}})]),e._v(" "),o("FormItem",{attrs:{label:"编号",readonly:""}},[e._v(e._s(e.bookmark.id))]),e._v(" "),o("FormItem",{attrs:{label:"链接",prop:"url"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.bookmark.url,expression:"bookmark.url"}],attrs:{type:"text"},domProps:{value:e.bookmark.url},on:{input:function(t){t.target.composing||e.$set(e.bookmark,"url",t.target.value)}}})]),e._v(" "),o("FormItem",{attrs:{label:"常用",readonly:""}},[o("Checkbox",{model:{value:e.bookmark.hot,callback:function(t){e.$set(e.bookmark,"hot",t)},expression:"bookmark.hot"}})],1),e._v(" "),o("FormItem",{attrs:{label:"排序",prop:"order"}},[o("Slider",{attrs:{range:{start:0,end:255}},model:{value:e.bookmark.order,callback:function(t){e.$set(e.bookmark,"order",t)},expression:"bookmark.order"}})],1),e._v(" "),o("FormItem",{attrs:{readonly:"",label:"排序"}},[e._v(e._s(e.bookmark.order))]),e._v(" "),o("FormItem",{attrs:{label:"日期",prop:"create_time"}},[o("DatePicker",{attrs:{placeholder:"选择日期",type:"datetime",format:"YYYY/MM/DD HH:mm:ss"},model:{value:e.bookmark.create_time,callback:function(t){e.$set(e.bookmark,"create_time",t)},expression:"bookmark.create_time"}})],1),e._v(" "),o("FormItem",{attrs:{label:"标签",prop:"tag"}},[o("TagInput",{model:{value:e.bookmark.tag,callback:function(t){e.$set(e.bookmark,"tag",t)},expression:"bookmark.tag"}})],1),e._v(" "),o("FormItem",{attrs:{label:"备注",prop:"desc",single:""}},[o("textarea",{directives:[{name:"autosize",rawName:"v-autosize"},{name:"wordcount",rawName:"v-wordcount",value:100,expression:"100"},{name:"model",rawName:"v-model",value:e.bookmark.desc,expression:"bookmark.desc"}],attrs:{rows:"3",placeholder:"添加一段描述"},domProps:{value:e.bookmark.desc},on:{input:function(t){t.target.composing||e.$set(e.bookmark,"desc",t.target.value)}}})]),e._v(" "),o("FormItem",{attrs:{single:""}},[o("Button",{attrs:{color:"primary"},on:{click:e.save}},[e._v(e._s(this.isEdit?"更新":"保存"))]),e._v("\n\t\t\t\t\t   \n\t\t\t\t\t"),o("Button",{on:{click:e.reset}},[e._v("重置")]),e._v("\n\t\t\t\t\t   \n\t\t\t\t\t"),this.isEdit?o("Button",{on:{click:e.del}},[e._v("删除")]):e._e(),e._v("\n\t\t\t\t\t   \n\t\t\t\t\t"),this.isEdit?o("Button",{on:{click:e.open}},[e._v("打开")]):e._e()],1)],1)],1)])])},staticRenderFns:[]},e.exports.render._withStripped=!0}});