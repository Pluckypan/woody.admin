webpackJsonp([7],{563:function(t,n,e){function s(t){o||e(893)}var o=!1,i=e(56)(e(860),e(945),s,null,null);i.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/demo-components/account/modules/security-setting.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] security-setting.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},615:function(t,n,e){t.exports={default:e(617),__esModule:!0}},617:function(t,n,e){var s=e(21),o=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},670:function(t,n,e){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(218),i=s(o),a=e(219),c=(s(a),i.default.create({baseURL:"https://api.github.com"})),u={Gist:{auth:function(t){c.defaults.headers.common.Authorization="token "+t,c.defaults.headers.common.Accept="application/vnd.github.v3.raw+json"},get:function(t){return c.get("/gists/"+t)},edit:function(t,n){return c({method:"POST",dataType:"JSON",url:"/gists/"+t,data:n})}},Repo:{login:function(t){return Ajax.postJson("/login",t)},logout:function(t){return Ajax.post("/logout",t)}}};n.default=u},671:function(t,n,e){"use strict";(function(t,s){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(615),a=o(i),c=e(216),u=o(c),l={sync:function(n){var e=t.getLocal("gist"),o=t.getLocal("token");if(console.log("gist ="+e),null==e||"null"==e||null==o||"null"==o)return void n(-2,"invalid token");s.Gist.auth(o),s.Gist.get(e).then(function(e){if(200==e.status){var s=e.data.files,o=s["category.json"],i=o&&o.content?t.safeParse(o.content):[];i=t.isArray(i)?i:[];var a=s["bookmark.json"],c=a&&a.content?t.safeParse(a.content):[];c=t.isArray(c)?c:[],console.log(e.data);var u=e.data.owner;u.gist_url=e.data.html_url,u.gist_description=e.data.description,u.gist_created_at=e.data.created_at,u.gist_updated_at=e.data.updated_at,n(0,{category:i,bookmark:c,owner:u})}else n(1,e.status)}).catch(function(t){n(-1,t)})},submit:function(n){u.default.getAll(function(e,o){var i=t.getLocal("gist"),c=t.getLocal("token");if(console.log("gist ="+i),null==i||"null"==i||null==c||"null"==c)return void n(-2,"invalid token");s.Gist.auth(c);var u={files:{"category.json":{content:(0,a.default)(e)},"bookmark.json":{content:(0,a.default)(o)}}};s.Gist.edit(i,u).then(function(t){200==t.status?n(0,t.data):n(1,t.status)}).catch(function(t){n(-1,t)})})}};n.default=l}).call(n,e(62).default,e(670).default)},860:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default={data:function(){return{syncing:!1,submiting:!1}},mounted:function(){this.init()},methods:{init:function(){},sync:function(){var n=this;n.syncing||(n.syncing=!0,t.sync(function(t,e){n.syncing=!1,t?(console.log("同步出错:"+t),n.$Message("同步出错")):console.log(e)}))},submit:function(){var n=this;n.submiting||(n.submiting=!0,t.submit(function(t,e){n.submiting=!1,t?(console.log("提交出错:"+t),n.$Message("提交出错")):n.$Message("提交成功.")}))}},computed:{}}}).call(n,e(671).default)},893:function(t,n){},945:function(t,n,e){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"security-setting-vue"},[e("div",{staticClass:"subframe-title"},[t._v("系统设置")]),t._v(" "),e("div",{staticClass:"common-list-container"},[e("div",{staticClass:"common-list-item"},[t._m(0),t._v(" "),e("div",{staticClass:"common-list-action"},[e("Button",{on:{click:t.sync}},[e("i",{class:t.syncing?"h-icon-spinner":""}),t._v("\n\t\t\t\t\t更新书签\n\t\t\t\t")])],1)]),t._v(" "),e("div",{staticClass:"common-list-item"},[t._m(1),t._v(" "),e("div",{staticClass:"common-list-action"},[e("Button",{on:{click:t.submit}},[e("i",{class:t.submiting?"h-icon-spinner":""}),t._v("\n\t\t\t\t\t提交书签\n\t\t\t\t")])],1)])])])},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"common-list-meta"},[e("p",{staticClass:"font-bold"},[t._v("同步书签数据")]),t._v(" "),e("p",[t._v("自动拉取数据异常的情况下,可手动从 Gist 同步书签数据")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"common-list-meta"},[e("p",{staticClass:"font-bold"},[t._v("提交书签数据")]),t._v(" "),e("p",[t._v("在提交书签异常的情况下,可手动提交本地数据至 Gist.一般建议先拉取再提交.")])])}]},t.exports.render._withStripped=!0}});