webpackJsonp([2],{520:function(t,e,n){function r(t){o||n(912)}var o=!1,i=n(54)(n(845),n(967),r,null,null);i.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/app/app-frame.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] app-frame.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},555:function(t,e,n){(function(){var n=this,r=n._,o={},i=Array.prototype,a=Object.prototype,u=Function.prototype,s=i.push,c=i.slice,f=i.concat,l=a.toString,h=a.hasOwnProperty,p=i.forEach,d=i.map,y=i.reduce,v=i.reduceRight,g=i.filter,m=i.every,b=i.some,w=i.indexOf,_=i.lastIndexOf,x=Array.isArray,k=Object.keys,E=u.bind,O=function(t){return t instanceof O?t:this instanceof O?void(this._wrapped=t):new O(t)};void 0!==t&&t.exports&&(e=t.exports=O),e._=O,O.VERSION="1.4.4";var j=O.each=O.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t)===o)return}else for(var a in t)if(O.has(t,a)&&e.call(n,t[a],a,t)===o)return};O.map=O.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(j(t,function(t,o,i){r[r.length]=e.call(n,t,o,i)}),r)};var S="Reduce of empty array with no initial value";O.reduce=O.foldl=O.inject=function(t,e,n,r){var o=arguments.length>2;if(null==t&&(t=[]),y&&t.reduce===y)return r&&(e=O.bind(e,r)),o?t.reduce(e,n):t.reduce(e);if(j(t,function(t,i,a){o?n=e.call(r,n,t,i,a):(n=t,o=!0)}),!o)throw new TypeError(S);return n},O.reduceRight=O.foldr=function(t,e,n,r){var o=arguments.length>2;if(null==t&&(t=[]),v&&t.reduceRight===v)return r&&(e=O.bind(e,r)),o?t.reduceRight(e,n):t.reduceRight(e);var i=t.length;if(i!==+i){var a=O.keys(t);i=a.length}if(j(t,function(u,s,c){s=a?a[--i]:--i,o?n=e.call(r,n,t[s],s,c):(n=t[s],o=!0)}),!o)throw new TypeError(S);return n},O.find=O.detect=function(t,e,n){var r;return A(t,function(t,o,i){if(e.call(n,t,o,i))return r=t,!0}),r},O.filter=O.select=function(t,e,n){var r=[];return null==t?r:g&&t.filter===g?t.filter(e,n):(j(t,function(t,o,i){e.call(n,t,o,i)&&(r[r.length]=t)}),r)},O.reject=function(t,e,n){return O.filter(t,function(t,r,o){return!e.call(n,t,r,o)},n)},O.every=O.all=function(t,e,n){e||(e=O.identity);var r=!0;return null==t?r:m&&t.every===m?t.every(e,n):(j(t,function(t,i,a){if(!(r=r&&e.call(n,t,i,a)))return o}),!!r)};var A=O.some=O.any=function(t,e,n){e||(e=O.identity);var r=!1;return null==t?r:b&&t.some===b?t.some(e,n):(j(t,function(t,i,a){if(r||(r=e.call(n,t,i,a)))return o}),!!r)};O.contains=O.include=function(t,e){return null!=t&&(w&&t.indexOf===w?-1!=t.indexOf(e):A(t,function(t){return t===e}))},O.invoke=function(t,e){var n=c.call(arguments,2),r=O.isFunction(e);return O.map(t,function(t){return(r?e:t[e]).apply(t,n)})},O.pluck=function(t,e){return O.map(t,function(t){return t[e]})},O.where=function(t,e,n){return O.isEmpty(e)?n?null:[]:O[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},O.findWhere=function(t,e){return O.where(t,e,!0)},O.max=function(t,e,n){if(!e&&O.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&O.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return j(t,function(t,o,i){var a=e?e.call(n,t,o,i):t;a>=r.computed&&(r={value:t,computed:a})}),r.value},O.min=function(t,e,n){if(!e&&O.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&O.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return j(t,function(t,o,i){var a=e?e.call(n,t,o,i):t;a<r.computed&&(r={value:t,computed:a})}),r.value},O.shuffle=function(t){var e,n=0,r=[];return j(t,function(t){e=O.random(n++),r[n-1]=r[e],r[e]=t}),r};var C=function(t){return O.isFunction(t)?t:function(e){return e[t]}};O.sortBy=function(t,e,n){var r=C(e);return O.pluck(O.map(t,function(t,e,o){return{value:t,index:e,criteria:r.call(n,t,e,o)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index<e.index?-1:1}),"value")};var I=function(t,e,n,r){var o={},i=C(e||O.identity);return j(t,function(e,a){var u=i.call(n,e,a,t);r(o,u,e)}),o};O.groupBy=function(t,e,n){return I(t,e,n,function(t,e,n){(O.has(t,e)?t[e]:t[e]=[]).push(n)})},O.countBy=function(t,e,n){return I(t,e,n,function(t,e){O.has(t,e)||(t[e]=0),t[e]++})},O.sortedIndex=function(t,e,n,r){n=null==n?O.identity:C(n);for(var o=n.call(r,e),i=0,a=t.length;i<a;){var u=i+a>>>1;n.call(r,t[u])<o?i=u+1:a=u}return i},O.toArray=function(t){return t?O.isArray(t)?c.call(t):t.length===+t.length?O.map(t,O.identity):O.values(t):[]},O.size=function(t){return null==t?0:t.length===+t.length?t.length:O.keys(t).length},O.first=O.head=O.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:c.call(t,0,e)},O.initial=function(t,e,n){return c.call(t,0,t.length-(null==e||n?1:e))},O.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:c.call(t,Math.max(t.length-e,0))},O.rest=O.tail=O.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},O.compact=function(t){return O.filter(t,O.identity)};var $=function(t,e,n){return j(t,function(t){O.isArray(t)?e?s.apply(n,t):$(t,e,n):n.push(t)}),n};O.flatten=function(t,e){return $(t,e,[])},O.without=function(t){return O.difference(t,c.call(arguments,1))},O.uniq=O.unique=function(t,e,n,r){O.isFunction(e)&&(r=n,n=e,e=!1);var o=n?O.map(t,n,r):t,i=[],a=[];return j(o,function(n,r){(e?r&&a[a.length-1]===n:O.contains(a,n))||(a.push(n),i.push(t[r]))}),i},O.union=function(){return O.uniq(f.apply(i,arguments))},O.intersection=function(t){var e=c.call(arguments,1);return O.filter(O.uniq(t),function(t){return O.every(e,function(e){return O.indexOf(e,t)>=0})})},O.difference=function(t){var e=f.apply(i,c.call(arguments,1));return O.filter(t,function(t){return!O.contains(e,t)})},O.zip=function(){for(var t=c.call(arguments),e=O.max(O.pluck(t,"length")),n=new Array(e),r=0;r<e;r++)n[r]=O.pluck(t,""+r);return n},O.object=function(t,e){if(null==t)return{};for(var n={},r=0,o=t.length;r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},O.indexOf=function(t,e,n){if(null==t)return-1;var r=0,o=t.length;if(n){if("number"!=typeof n)return r=O.sortedIndex(t,e),t[r]===e?r:-1;r=n<0?Math.max(0,o+n):n}if(w&&t.indexOf===w)return t.indexOf(e,n);for(;r<o;r++)if(t[r]===e)return r;return-1},O.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(_&&t.lastIndexOf===_)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var o=r?n:t.length;o--;)if(t[o]===e)return o;return-1},O.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),o=0,i=new Array(r);o<r;)i[o++]=t,t+=n;return i},O.bind=function(t,e){if(t.bind===E&&E)return E.apply(t,c.call(arguments,1));var n=c.call(arguments,2);return function(){return t.apply(e,n.concat(c.call(arguments)))}},O.partial=function(t){var e=c.call(arguments,1);return function(){return t.apply(this,e.concat(c.call(arguments)))}},O.bindAll=function(t){var e=c.call(arguments,1);return 0===e.length&&(e=O.functions(t)),j(e,function(e){t[e]=O.bind(t[e],t)}),t},O.memoize=function(t,e){var n={};return e||(e=O.identity),function(){var r=e.apply(this,arguments);return O.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},O.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},O.defer=function(t){return O.delay.apply(O,[t,1].concat(c.call(arguments,1)))},O.throttle=function(t,e){var n,r,o,i,a=0,u=function(){a=new Date,o=null,i=t.apply(n,r)};return function(){var s=new Date,c=e-(s-a);return n=this,r=arguments,c<=0?(clearTimeout(o),o=null,a=s,i=t.apply(n,r)):o||(o=setTimeout(u,c)),i}},O.debounce=function(t,e,n){var r,o;return function(){var i=this,a=arguments,u=function(){r=null,n||(o=t.apply(i,a))},s=n&&!r;return clearTimeout(r),r=setTimeout(u,e),s&&(o=t.apply(i,a)),o}},O.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},O.wrap=function(t,e){return function(){var n=[t];return s.apply(n,arguments),e.apply(this,n)}},O.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},O.after=function(t,e){return t<=0?e():function(){if(--t<1)return e.apply(this,arguments)}},O.keys=k||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)O.has(t,n)&&(e[e.length]=n);return e},O.values=function(t){var e=[];for(var n in t)O.has(t,n)&&e.push(t[n]);return e},O.pairs=function(t){var e=[];for(var n in t)O.has(t,n)&&e.push([n,t[n]]);return e},O.invert=function(t){var e={};for(var n in t)O.has(t,n)&&(e[t[n]]=n);return e},O.functions=O.methods=function(t){var e=[];for(var n in t)O.isFunction(t[n])&&e.push(n);return e.sort()},O.extend=function(t){return j(c.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},O.pick=function(t){var e={},n=f.apply(i,c.call(arguments,1));return j(n,function(n){n in t&&(e[n]=t[n])}),e},O.omit=function(t){var e={},n=f.apply(i,c.call(arguments,1));for(var r in t)O.contains(n,r)||(e[r]=t[r]);return e},O.defaults=function(t){return j(c.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},O.clone=function(t){return O.isObject(t)?O.isArray(t)?t.slice():O.extend({},t):t},O.tap=function(t,e){return e(t),t};var D=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof O&&(t=t._wrapped),e instanceof O&&(e=e._wrapped);var o=l.call(t);if(o!=l.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var i=n.length;i--;)if(n[i]==t)return r[i]==e;n.push(t),r.push(e);var a=0,u=!0;if("[object Array]"==o){if(a=t.length,u=a==e.length)for(;a--&&(u=D(t[a],e[a],n,r)););}else{var s=t.constructor,c=e.constructor;if(s!==c&&!(O.isFunction(s)&&s instanceof s&&O.isFunction(c)&&c instanceof c))return!1;for(var f in t)if(O.has(t,f)&&(a++,!(u=O.has(e,f)&&D(t[f],e[f],n,r))))break;if(u){for(f in e)if(O.has(e,f)&&!a--)break;u=!a}}return n.pop(),r.pop(),u};O.isEqual=function(t,e){return D(t,e,[],[])},O.isEmpty=function(t){if(null==t)return!0;if(O.isArray(t)||O.isString(t))return 0===t.length;for(var e in t)if(O.has(t,e))return!1;return!0},O.isElement=function(t){return!(!t||1!==t.nodeType)},O.isArray=x||function(t){return"[object Array]"==l.call(t)},O.isObject=function(t){return t===Object(t)},j(["Arguments","Function","String","Number","Date","RegExp"],function(t){O["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),O.isArguments(arguments)||(O.isArguments=function(t){return!(!t||!O.has(t,"callee"))}),O.isFunction=function(t){return"function"==typeof t},O.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},O.isNaN=function(t){return O.isNumber(t)&&t!=+t},O.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==l.call(t)},O.isNull=function(t){return null===t},O.isUndefined=function(t){return void 0===t},O.has=function(t,e){return h.call(t,e)},O.noConflict=function(){return n._=r,this},O.identity=function(t){return t},O.times=function(t,e,n){for(var r=Array(t),o=0;o<t;o++)r[o]=e.call(n,o);return r},O.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};N.unescape=O.invert(N.escape);var M={escape:new RegExp("["+O.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+O.keys(N.unescape).join("|")+")","g")};O.each(["escape","unescape"],function(t){O[t]=function(e){return null==e?"":(""+e).replace(M[t],function(e){return N[t][e]})}}),O.result=function(t,e){if(null==t)return null;var n=t[e];return O.isFunction(n)?n.call(t):n},O.mixin=function(t){j(O.functions(t),function(e){var n=O[e]=t[e];O.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),L.call(this,n.apply(O,t))}})};var T=0;O.uniqueId=function(t){var e=++T+"";return t?t+e:e},O.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;O.template=function(t,e,n){var r;n=O.defaults({},n,O.templateSettings);var o=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),i=0,a="__p+='";t.replace(o,function(e,n,r,o,u){return a+=t.slice(i,u).replace(P,function(t){return"\\"+F[t]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(a+="';\n"+o+"\n__p+='"),i=u+e.length,e}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(t){throw t.source=a,t}if(e)return r(e,O);var u=function(t){return r.call(this,t,O)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},O.chain=function(t){return O(t).chain()};var L=function(t){return this._chain?O(t).chain():t};O.mixin(O),j(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];O.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],L.call(this,n)}}),j(["concat","join","slice"],function(t){var e=i[t];O.prototype[t]=function(){return L.call(this,e.apply(this._wrapped,arguments))}}),O.extend(O.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},557:function(t,e,n){function r(t,e){if("number"==typeof t&&(t=t.toString()),!("$"!==t[0]||"$$date"===t&&"number"==typeof e||"$$deleted"===t&&!0===e||"$$indexCreated"===t||"$$indexRemoved"===t))throw new Error("Field names cannot begin with the $ character");if(-1!==t.indexOf("."))throw new Error("Field names cannot contain a .")}function o(t){b.isArray(t)&&t.forEach(function(t){o(t)}),"object"==typeof t&&null!==t&&Object.keys(t).forEach(function(e){r(e,t[e]),o(t[e])})}function i(t){return JSON.stringify(t,function(t,e){if(r(t,e),void 0!==e)return null===e?null:"function"==typeof this[t].getTime?{$$date:this[t].getTime()}:e})}function a(t){return JSON.parse(t,function(t,e){return"$$date"===t?new Date(e):"string"==typeof e||"number"==typeof e||"boolean"==typeof e||null===e?e:e&&e.$$date?e.$$date:e})}function u(t,e){var n;return"boolean"==typeof t||"number"==typeof t||"string"==typeof t||null===t||b.isDate(t)?t:b.isArray(t)?(n=[],t.forEach(function(t){n.push(u(t,e))}),n):"object"==typeof t?(n={},Object.keys(t).forEach(function(r){(!e||"$"!==r[0]&&-1===r.indexOf("."))&&(n[r]=u(t[r],e))}),n):void 0}function s(t){return"boolean"==typeof t||"number"==typeof t||"string"==typeof t||null===t||b.isDate(t)||b.isArray(t)}function c(t,e){return t<e?-1:t>e?1:0}function f(t,e){var n,r;for(n=0;n<Math.min(t.length,e.length);n+=1)if(0!==(r=l(t[n],e[n])))return r;return c(t.length,e.length)}function l(t,e,n){var r,o,i,a,u=n||c;if(void 0===t)return void 0===e?0:-1;if(void 0===e)return void 0===t?0:1;if(null===t)return null===e?0:-1;if(null===e)return null===t?0:1;if("number"==typeof t)return"number"==typeof e?c(t,e):-1;if("number"==typeof e)return"number"==typeof t?c(t,e):1;if("string"==typeof t)return"string"==typeof e?u(t,e):-1;if("string"==typeof e)return"string"==typeof t?u(t,e):1;if("boolean"==typeof t)return"boolean"==typeof e?c(t,e):-1;if("boolean"==typeof e)return"boolean"==typeof t?c(t,e):1;if(b.isDate(t))return b.isDate(e)?c(t.getTime(),e.getTime()):-1;if(b.isDate(e))return b.isDate(t)?c(t.getTime(),e.getTime()):1;if(b.isArray(t))return b.isArray(e)?f(t,e):-1;if(b.isArray(e))return b.isArray(t)?f(t,e):1;for(r=Object.keys(t).sort(),o=Object.keys(e).sort(),a=0;a<Math.min(r.length,o.length);a+=1)if(0!==(i=l(t[r[a]],e[o[a]])))return i;return c(r.length,o.length)}function h(t){return function(e,n,r){var o="string"==typeof n?n.split("."):n;if(1===o.length)x[t](e,n,r);else{if(void 0===e[o[0]]){if("$unset"===t)return;e[o[0]]={}}_[t](e[o[0]],o.slice(1),r)}}}function p(t,e){var n,r,i=Object.keys(e),a=w.map(i,function(t){return t[0]}),s=w.filter(a,function(t){return"$"===t});if(-1!==i.indexOf("_id")&&e._id!==t._id)throw new Error("You cannot change a document's _id");if(0!==s.length&&s.length!==a.length)throw new Error("You cannot mix modifiers and normal fields");if(0===s.length?(n=u(e),n._id=t._id):(r=w.uniq(i),n=u(t),r.forEach(function(t){var r;if(!_[t])throw new Error("Unknown modifier "+t);if("object"!=typeof e[t])throw new Error("Modifier "+t+"'s argument must be an object");r=Object.keys(e[t]),r.forEach(function(r){_[t](n,r,e[t][r])})})),o(n),t._id!==n._id)throw new Error("You can't change a document's _id");return n}function d(t,e){var n,r,o="string"==typeof e?e.split("."):e;if(t){if(0===o.length)return t;if(1===o.length)return t[o[0]];if(b.isArray(t[o[0]])){if("number"==typeof(n=parseInt(o[1],10))&&!isNaN(n))return d(t[o[0]][n],o.slice(2));for(r=new Array,n=0;n<t[o[0]].length;n+=1)r.push(d(t[o[0]][n],o.slice(1)));return r}return d(t[o[0]],o.slice(1))}}function y(t,e){var n,r,o;if(null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t||null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e)return t===e;if(b.isDate(t)||b.isDate(e))return b.isDate(t)&&b.isDate(e)&&t.getTime()===e.getTime();if((!b.isArray(t)||!b.isArray(e))&&(b.isArray(t)||b.isArray(e))||void 0===t||void 0===e)return!1;try{n=Object.keys(t),r=Object.keys(e)}catch(t){return!1}if(n.length!==r.length)return!1;for(o=0;o<n.length;o+=1){if(-1===r.indexOf(n[o]))return!1;if(!y(t[n[o]],e[n[o]]))return!1}return!0}function v(t,e){return!("string"!=typeof t&&"number"!=typeof t&&!b.isDate(t)&&"string"!=typeof e&&"number"!=typeof e&&!b.isDate(e))&&typeof t==typeof e}function g(t,e){var n,r,o,i;if(s(t)||s(e))return m({needAKey:t},"needAKey",e);for(n=Object.keys(e),i=0;i<n.length;i+=1)if(r=n[i],o=e[r],"$"===r[0]){if(!E[r])throw new Error("Unknown logical operator "+r);if(!E[r](t,o))return!1}else if(!m(t,r,o))return!1;return!0}function m(t,e,n,r){var o,i,a,u,s=d(t,e);if(b.isArray(s)&&!r){if(b.isArray(n))return m(t,e,n,!0);if(null!==n&&"object"==typeof n&&!b.isRegExp(n))for(i=Object.keys(n),o=0;o<i.length;o+=1)if(O[i[o]])return m(t,e,n,!0);for(o=0;o<s.length;o+=1)if(m({k:s[o]},"k",n))return!0;return!1}if(null!==n&&"object"==typeof n&&!b.isRegExp(n)&&!b.isArray(n)){if(i=Object.keys(n),a=w.map(i,function(t){return t[0]}),u=w.filter(a,function(t){return"$"===t}),0!==u.length&&u.length!==a.length)throw new Error("You cannot mix operators and normal fields");if(u.length>0){for(o=0;o<i.length;o+=1){if(!k[i[o]])throw new Error("Unknown comparison function "+i[o]);if(!k[i[o]](s,n[i[o]]))return!1}return!0}}return b.isRegExp(n)?k.$regex(s,n):!!y(s,n)}var b=n(559),w=n(555),_={},x={},k={},E={},O={};x.$set=function(t,e,n){t[e]=n},x.$unset=function(t,e,n){delete t[e]},x.$push=function(t,e,n){if(t.hasOwnProperty(e)||(t[e]=[]),!b.isArray(t[e]))throw new Error("Can't $push an element on non-array values");if(null!==n&&"object"==typeof n&&n.$slice&&void 0===n.$each&&(n.$each=[]),null!==n&&"object"==typeof n&&n.$each){if(Object.keys(n).length>=3||2===Object.keys(n).length&&void 0===n.$slice)throw new Error("Can only use $slice in cunjunction with $each when $push to array");if(!b.isArray(n.$each))throw new Error("$each requires an array value");if(n.$each.forEach(function(n){t[e].push(n)}),void 0===n.$slice||"number"!=typeof n.$slice)return;if(0===n.$slice)t[e]=[];else{var r,o,i=t[e].length;n.$slice<0?(r=Math.max(0,i+n.$slice),o=i):n.$slice>0&&(r=0,o=Math.min(i,n.$slice)),t[e]=t[e].slice(r,o)}}else t[e].push(n)},x.$addToSet=function(t,e,n){var r=!0;if(t.hasOwnProperty(e)||(t[e]=[]),!b.isArray(t[e]))throw new Error("Can't $addToSet an element on non-array values");if(null!==n&&"object"==typeof n&&n.$each){if(Object.keys(n).length>1)throw new Error("Can't use another field in conjunction with $each");if(!b.isArray(n.$each))throw new Error("$each requires an array value");n.$each.forEach(function(n){x.$addToSet(t,e,n)})}else t[e].forEach(function(t){0===l(t,n)&&(r=!1)}),r&&t[e].push(n)},x.$pop=function(t,e,n){if(!b.isArray(t[e]))throw new Error("Can't $pop an element from non-array values");if("number"!=typeof n)throw new Error(n+" isn't an integer, can't use it with $pop");0!==n&&(t[e]=n>0?t[e].slice(0,t[e].length-1):t[e].slice(1))},x.$pull=function(t,e,n){var r,o;if(!b.isArray(t[e]))throw new Error("Can't $pull an element from non-array values");for(r=t[e],o=r.length-1;o>=0;o-=1)g(r[o],n)&&r.splice(o,1)},x.$inc=function(t,e,n){if("number"!=typeof n)throw new Error(n+" must be a number");if("number"!=typeof t[e]){if(w.has(t,e))throw new Error("Don't use the $inc modifier on non-number fields");t[e]=n}else t[e]+=n},x.$max=function(t,e,n){void 0===t[e]?t[e]=n:n>t[e]&&(t[e]=n)},x.$min=function(t,e,n){void 0===t[e]?t[e]=n:n<t[e]&&(t[e]=n)},Object.keys(x).forEach(function(t){_[t]=h(t)}),k.$lt=function(t,e){return v(t,e)&&t<e},k.$lte=function(t,e){return v(t,e)&&t<=e},k.$gt=function(t,e){return v(t,e)&&t>e},k.$gte=function(t,e){return v(t,e)&&t>=e},k.$ne=function(t,e){return void 0===t||!y(t,e)},k.$in=function(t,e){var n;if(!b.isArray(e))throw new Error("$in operator called with a non-array");for(n=0;n<e.length;n+=1)if(y(t,e[n]))return!0;return!1},k.$nin=function(t,e){if(!b.isArray(e))throw new Error("$nin operator called with a non-array");return!k.$in(t,e)},k.$regex=function(t,e){if(!b.isRegExp(e))throw new Error("$regex operator called with non regular expression");return"string"==typeof t&&e.test(t)},k.$exists=function(t,e){return e=!(!e&&""!==e),void 0===t?!e:e},k.$size=function(t,e){if(!b.isArray(t))return!1;if(e%1!=0)throw new Error("$size operator called without an integer");return t.length==e},k.$elemMatch=function(t,e){if(!b.isArray(t))return!1;for(var n=t.length,r=!1;n--;)if(g(t[n],e)){r=!0;break}return r},O.$size=!0,O.$elemMatch=!0,E.$or=function(t,e){var n;if(!b.isArray(e))throw new Error("$or operator used without an array");for(n=0;n<e.length;n+=1)if(g(t,e[n]))return!0;return!1},E.$and=function(t,e){var n;if(!b.isArray(e))throw new Error("$and operator used without an array");for(n=0;n<e.length;n+=1)if(!g(t,e[n]))return!1;return!0},E.$not=function(t,e){return!g(t,e)},E.$where=function(t,e){var n;if(!w.isFunction(e))throw new Error("$where operator used without a function");if(n=e.call(t),!w.isBoolean(n))throw new Error("$where function must return boolean");return n},t.exports.serialize=i,t.exports.deserialize=a,t.exports.deepCopy=u,t.exports.checkObject=o,t.exports.isPrimitiveType=s,t.exports.modify=p,t.exports.getDotValue=d,t.exports.match=g,t.exports.areThingsEqual=y,t.exports.compareThings=l},558:function(t,e,n){"use strict";function r(){p=!1}function o(t){if(!t)return void(l!==y&&(l=y,r()));if(t!==l){if(t.length!==y.length)throw new Error("Custom alphabet for shortid must be "+y.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(t,e,n){return e!==n.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+y.length+" unique characters. These characters were not unique: "+e.join(", "));l=t,r()}}function i(t){return o(t),l}function a(t){d.seed(t),h!==t&&(r(),h=t)}function u(){l||o(y);for(var t,e=l.split(""),n=[],r=d.nextValue();e.length>0;)r=d.nextValue(),t=Math.floor(r*e.length),n.push(e.splice(t,1)[0]);return n.join("")}function s(){return p||(p=u())}function c(t){return s()[t]}function f(){return l||y}var l,h,p,d=n(593),y="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";t.exports={get:f,characters:i,seed:a,lookup:c,shuffled:s}},559:function(t,e,n){(function(t){function r(t,n){var r={seen:[],stylize:i};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function i(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return m(o)||(o=u(t,o,r)),o}var i=s(t,n);if(i)return i;var d=Object.keys(n),y=a(d);if(t.showHidden&&(d=Object.getOwnPropertyNames(n)),E(n)&&(d.indexOf("message")>=0||d.indexOf("description")>=0))return c(n);if(0===d.length){if(O(n)){var v=n.name?": "+n.name:"";return t.stylize("[Function"+v+"]","special")}if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return c(n)}var g="",b=!1,w=["{","}"];if(p(n)&&(b=!0,w=["[","]"]),O(n)){g=" [Function"+(n.name?": "+n.name:"")+"]"}if(_(n)&&(g=" "+RegExp.prototype.toString.call(n)),k(n)&&(g=" "+Date.prototype.toUTCString.call(n)),E(n)&&(g=" "+c(n)),0===d.length&&(!b||0==n.length))return w[0]+g+w[1];if(r<0)return _(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var x;return x=b?f(t,n,r,y,d):d.map(function(e){return l(t,n,r,y,e,b)}),t.seen.pop(),h(x,g,w)}function s(t,e){if(w(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,o){for(var i=[],a=0,u=e.length;a<u;++a)I(e,String(a))?i.push(l(t,e,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(t,e,n,r,o,!0))}),i}function l(t,e,n,r,o,i){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),I(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(c.value)<0?(s=y(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function v(t){return null==t}function g(t){return"number"==typeof t}function m(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function _(t){return x(t)&&"[object RegExp]"===S(t)}function x(t){return"object"==typeof t&&null!==t}function k(t){return x(t)&&"[object Date]"===S(t)}function E(t){return x(t)&&("[object Error]"===S(t)||t instanceof Error)}function O(t){return"function"==typeof t}function j(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function S(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}function C(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),F[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}function D(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick($,e,a)})}if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,N(e)),n}var N=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},M=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,o=arguments,i=o.length,a=String(t).replace(M,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return t}}),u=o[n];n<i;u=o[++n])y(u)||!x(u)?a+=" "+u:a+=" "+r(u);return a},e.deprecate=function(n,r){function o(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return o};var T,R={};e.debuglog=function(r){if(w(T)&&(T=n.i({NODE_ENV:"production"}).NODE_DEBUG||""),r=r.toUpperCase(),!R[r])if(new RegExp("\\b"+r+"\\b","i").test(T)){var o=t.pid;R[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,o,t)}}else R[r]=function(){};return R[r]},e.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=v,e.isNumber=g,e.isString=m,e.isSymbol=b,e.isUndefined=w,e.isRegExp=_,e.isObject=x,e.isDate=k,e.isError=E,e.isFunction=O,e.isPrimitive=j,e.isBuffer=n(598);var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",C(),e.format.apply(e,arguments))},e.inherits=n(578),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;e.promisify=function(t){function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,r){t?n(t):e(r)});try{t.apply(this,o)}catch(t){n(t)}return r}if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(P&&t[P]){var e=t[P];if("function"!=typeof e)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),P&&Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,N(t))},e.promisify.custom=P,e.callbackify=D}).call(e,n(136))},561:function(t,e,n){(function(n,r){var o,i;!function(){function a(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(u,arguments)}}var u,s,c={};u=this,null!=u&&(s=u.async),c.noConflict=function(){return u.async=s,c};var f=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n+=1)e(t[n],n,t)},l=function(t,e){if(t.map)return t.map(e);var n=[];return f(t,function(t,r,o){n.push(e(t,r,o))}),n},h=function(t,e,n){return t.reduce?t.reduce(e,n):(f(t,function(t,r,o){n=e(n,t,r,o)}),n)},p=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};void 0!==n&&n.nextTick?(c.nextTick=n.nextTick,c.setImmediate=void 0!==r?function(t){r(t)}:c.nextTick):"function"==typeof r?(c.nextTick=function(t){r(t)},c.setImmediate=c.nextTick):(c.nextTick=function(t){setTimeout(t,0)},c.setImmediate=c.nextTick),c.each=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0;f(t,function(o){e(o,a(function(e){e?(n(e),n=function(){}):(r+=1)>=t.length&&n(null)}))})},c.forEach=c.each,c.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0,o=function(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1,r>=t.length?n(null):o())})};o()},c.forEachSeries=c.eachSeries,c.eachLimit=function(t,e,n,r){d(e).apply(null,[t,n,r])},c.forEachLimit=c.eachLimit;var d=function(t){return function(e,n,r){if(r=r||function(){},!e.length||t<=0)return r();var o=0,i=0,a=0;!function u(){if(o>=e.length)return r();for(;a<t&&i<e.length;)i+=1,a+=1,n(e[i-1],function(t){t?(r(t),r=function(){}):(o+=1,a-=1,o>=e.length?r():u())})}()}},y=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[c.each].concat(e))}},v=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[d(t)].concat(n))}},g=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[c.eachSeries].concat(e))}},m=function(t,e,n,r){var o=[];e=l(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n,r){o[t.index]=r,e(n)})},function(t){r(t,o)})};c.map=y(m),c.mapSeries=g(m),c.mapLimit=function(t,e,n,r){return b(e)(t,n,r)};var b=function(t){return v(t,m)};c.reduce=function(t,e,n,r){c.eachSeries(t,function(t,r){n(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})},c.inject=c.reduce,c.foldl=c.reduce,c.reduceRight=function(t,e,n,r){var o=l(t,function(t){return t}).reverse();c.reduce(o,e,n,r)},c.foldr=c.reduceRight;var w=function(t,e,n,r){var o=[];e=l(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&o.push(t),e()})},function(t){r(l(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};c.filter=y(w),c.filterSeries=g(w),c.select=c.filter,c.selectSeries=c.filterSeries;var _=function(t,e,n,r){var o=[];e=l(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||o.push(t),e()})},function(t){r(l(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};c.reject=y(_),c.rejectSeries=g(_);var x=function(t,e,n,r){t(e,function(t,e){n(t,function(n){n?(r(t),r=function(){}):e()})},function(t){r()})};c.detect=y(x),c.detectSeries=g(x),c.some=function(t,e,n){c.each(t,function(t,r){e(t,function(t){t&&(n(!0),n=function(){}),r()})},function(t){n(!1)})},c.any=c.some,c.every=function(t,e,n){c.each(t,function(t,r){e(t,function(t){t||(n(!1),n=function(){}),r()})},function(t){n(!0)})},c.all=c.every,c.sortBy=function(t,e,n){c.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);var r=function(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0};n(null,l(e.sort(r),function(t){return t.value}))})},c.auto=function(t,e){e=e||function(){};var n=p(t);if(!n.length)return e(null);var r={},o=[],i=function(t){o.unshift(t)},a=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},u=function(){f(o.slice(0),function(t){t()})};i(function(){p(r).length===n.length&&(e(null,r),e=function(){})}),f(n,function(n){var o=t[n]instanceof Function?[t[n]]:t[n],s=function(t){var o=Array.prototype.slice.call(arguments,1);if(o.length<=1&&(o=o[0]),t){var i={};f(p(r),function(t){i[t]=r[t]}),i[n]=o,e(t,i),e=function(){}}else r[n]=o,c.setImmediate(u)},l=o.slice(0,Math.abs(o.length-1))||[],d=function(){return h(l,function(t,e){return t&&r.hasOwnProperty(e)},!0)&&!r.hasOwnProperty(n)};if(d())o[o.length-1](s,r);else{var y=function(){d()&&(a(y),o[o.length-1](s,r))};i(y)}})},c.waterfall=function(t,e){if(e=e||function(){},t.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var r=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var o=Array.prototype.slice.call(arguments,1),i=t.next();i?o.push(r(i)):o.push(e),c.setImmediate(function(){t.apply(null,o)})}}};r(c.iterator(t))()};var k=function(t,e,n){if(n=n||function(){},e.constructor===Array)t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var r={};t.each(p(e),function(t,n){e[t](function(e){var o=Array.prototype.slice.call(arguments,1);o.length<=1&&(o=o[0]),r[t]=o,n(e)})},function(t){n(t,r)})}};c.parallel=function(t,e){k({map:c.map,each:c.each},t,e)},c.parallelLimit=function(t,e,n){k({map:b(e),each:d(e)},t,n)},c.series=function(t,e){if(e=e||function(){},t.constructor===Array)c.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};c.eachSeries(p(t),function(e,r){t[e](function(t){var o=Array.prototype.slice.call(arguments,1);o.length<=1&&(o=o[0]),n[e]=o,r(t)})},function(t){e(t,n)})}},c.iterator=function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)},c.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var E=function(t,e,n,r){var o=[];t(e,function(t,e){n(t,function(t,n){o=o.concat(n||[]),e(t)})},function(t){r(t,o)})};c.concat=y(E),c.concatSeries=g(E),c.whilst=function(t,e,n){t()?e(function(r){if(r)return n(r);c.whilst(t,e,n)}):n()},c.doWhilst=function(t,e,n){t(function(r){if(r)return n(r);e()?c.doWhilst(t,e,n):n()})},c.until=function(t,e,n){t()?n():e(function(r){if(r)return n(r);c.until(t,e,n)})},c.doUntil=function(t,e,n){t(function(r){if(r)return n(r);e()?n():c.doUntil(t,e,n)})},c.queue=function(t,e){function n(t,n,r,o){n.constructor!==Array&&(n=[n]),f(n,function(n){var i={data:n,callback:"function"==typeof o?o:null};r?t.tasks.unshift(i):t.tasks.push(i),t.saturated&&t.tasks.length===e&&t.saturated(),c.setImmediate(t.process)})}void 0===e&&(e=1);var r=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,push:function(t,e){n(o,t,!1,e)},unshift:function(t,e){n(o,t,!0,e)},process:function(){if(r<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),r+=1;var n=function(){r-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+r===0&&o.drain(),o.process()},i=a(n);t(e.data,i)}},length:function(){return o.tasks.length},running:function(){return r}};return o},c.cargo=function(t,e){var n=!1,r=[],o={tasks:r,payload:e,saturated:null,empty:null,drain:null,push:function(t,n){t.constructor!==Array&&(t=[t]),f(t,function(t){r.push({data:t,callback:"function"==typeof n?n:null}),o.saturated&&r.length===e&&o.saturated()}),c.setImmediate(o.process)},process:function i(){if(!n){if(0===r.length)return void(o.drain&&o.drain());var a="number"==typeof e?r.splice(0,e):r.splice(0),u=l(a,function(t){return t.data});o.empty&&o.empty(),n=!0,t(u,function(){n=!1;var t=arguments;f(a,function(e){e.callback&&e.callback.apply(null,t)}),i()})}},length:function(){return r.length},running:function(){return n}};return o};var O=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&f(n,function(e){console[t](e)}))}]))}};c.log=O("log"),c.dir=O("dir"),c.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var o=function(){var o=Array.prototype.slice.call(arguments),i=o.pop(),a=e.apply(null,o);a in n?i.apply(null,n[a]):a in r?r[a].push(i):(r[a]=[i],t.apply(null,o.concat([function(){n[a]=arguments;var t=r[a];delete r[a];for(var e=0,o=t.length;e<o;e++)t[e].apply(null,arguments)}])))};return o.memo=n,o.unmemoized=t,o},c.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},c.times=function(t,e,n){for(var r=[],o=0;o<t;o++)r.push(o);return c.map(r,e,n)},c.timesSeries=function(t,e,n){for(var r=[],o=0;o<t;o++)r.push(o);return c.mapSeries(r,e,n)},c.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();c.reduce(t,n,function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))},function(t,n){r.apply(e,[t].concat(n))})}};var j=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),o=r.pop();return t(e,function(t,e){t.apply(n,r.concat([e]))},o)};if(arguments.length>2){return n.apply(this,Array.prototype.slice.call(arguments,2))}return n};c.applyEach=y(j),c.applyEachSeries=g(j),c.forever=function(t,e){function n(r){if(r){if(e)return e(r);throw r}t(n)}n()},o=[],void 0!==(i=function(){return c}.apply(e,o))&&(t.exports=i)}()}).call(e,n(136),n(205).setImmediate)},567:function(t,e,n){function r(t){t=t||{},this.left=null,this.right=null,this.parent=void 0!==t.parent?t.parent:null,t.hasOwnProperty("key")&&(this.key=t.key),this.data=t.hasOwnProperty("value")?[t.value]:[],this.unique=t.unique||!1,this.compareKeys=t.compareKeys||i.defaultCompareKeysFunction,this.checkValueEquality=t.checkValueEquality||i.defaultCheckValueEquality}function o(t,e){var n;for(n=0;n<e.length;n+=1)t.push(e[n])}var i=n(568);r.prototype.getMaxKeyDescendant=function(){return this.right?this.right.getMaxKeyDescendant():this},r.prototype.getMaxKey=function(){return this.getMaxKeyDescendant().key},r.prototype.getMinKeyDescendant=function(){return this.left?this.left.getMinKeyDescendant():this},r.prototype.getMinKey=function(){return this.getMinKeyDescendant().key},r.prototype.checkAllNodesFullfillCondition=function(t){this.hasOwnProperty("key")&&(t(this.key,this.data),this.left&&this.left.checkAllNodesFullfillCondition(t),this.right&&this.right.checkAllNodesFullfillCondition(t))},r.prototype.checkNodeOrdering=function(){var t=this;this.hasOwnProperty("key")&&(this.left&&(this.left.checkAllNodesFullfillCondition(function(e){if(t.compareKeys(e,t.key)>=0)throw new Error("Tree with root "+t.key+" is not a binary search tree")}),this.left.checkNodeOrdering()),this.right&&(this.right.checkAllNodesFullfillCondition(function(e){if(t.compareKeys(e,t.key)<=0)throw new Error("Tree with root "+t.key+" is not a binary search tree")}),this.right.checkNodeOrdering()))},r.prototype.checkInternalPointers=function(){if(this.left){if(this.left.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.left.checkInternalPointers()}if(this.right){if(this.right.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.right.checkInternalPointers()}},r.prototype.checkIsBST=function(){if(this.checkNodeOrdering(),this.checkInternalPointers(),this.parent)throw new Error("The root shouldn't have a parent")},r.prototype.getNumberOfKeys=function(){var t;return this.hasOwnProperty("key")?(t=1,this.left&&(t+=this.left.getNumberOfKeys()),this.right&&(t+=this.right.getNumberOfKeys()),t):0},r.prototype.createSimilar=function(t){return t=t||{},t.unique=this.unique,t.compareKeys=this.compareKeys,t.checkValueEquality=this.checkValueEquality,new this.constructor(t)},r.prototype.createLeftChild=function(t){var e=this.createSimilar(t);return e.parent=this,this.left=e,e},r.prototype.createRightChild=function(t){var e=this.createSimilar(t);return e.parent=this,this.right=e,e},r.prototype.insert=function(t,e){if(!this.hasOwnProperty("key"))return this.key=t,void this.data.push(e);if(0===this.compareKeys(this.key,t)){if(this.unique){var n=new Error("Can't insert key "+t+", it violates the unique constraint");throw n.key=t,n.errorType="uniqueViolated",n}return void this.data.push(e)}this.compareKeys(t,this.key)<0?this.left?this.left.insert(t,e):this.createLeftChild({key:t,value:e}):this.right?this.right.insert(t,e):this.createRightChild({key:t,value:e})},r.prototype.search=function(t){return this.hasOwnProperty("key")?0===this.compareKeys(this.key,t)?this.data:this.compareKeys(t,this.key)<0?this.left?this.left.search(t):[]:this.right?this.right.search(t):[]:[]},r.prototype.getLowerBoundMatcher=function(t){var e=this;return t.hasOwnProperty("$gt")||t.hasOwnProperty("$gte")?t.hasOwnProperty("$gt")&&t.hasOwnProperty("$gte")?0===e.compareKeys(t.$gte,t.$gt)?function(n){return e.compareKeys(n,t.$gt)>0}:e.compareKeys(t.$gte,t.$gt)>0?function(n){return e.compareKeys(n,t.$gte)>=0}:function(n){return e.compareKeys(n,t.$gt)>0}:t.hasOwnProperty("$gt")?function(n){return e.compareKeys(n,t.$gt)>0}:function(n){return e.compareKeys(n,t.$gte)>=0}:function(){return!0}},r.prototype.getUpperBoundMatcher=function(t){var e=this;return t.hasOwnProperty("$lt")||t.hasOwnProperty("$lte")?t.hasOwnProperty("$lt")&&t.hasOwnProperty("$lte")?0===e.compareKeys(t.$lte,t.$lt)?function(n){return e.compareKeys(n,t.$lt)<0}:e.compareKeys(t.$lte,t.$lt)<0?function(n){return e.compareKeys(n,t.$lte)<=0}:function(n){return e.compareKeys(n,t.$lt)<0}:t.hasOwnProperty("$lt")?function(n){return e.compareKeys(n,t.$lt)<0}:function(n){return e.compareKeys(n,t.$lte)<=0}:function(){return!0}},r.prototype.betweenBounds=function(t,e,n){var r=[];return this.hasOwnProperty("key")?(e=e||this.getLowerBoundMatcher(t),n=n||this.getUpperBoundMatcher(t),e(this.key)&&this.left&&o(r,this.left.betweenBounds(t,e,n)),e(this.key)&&n(this.key)&&o(r,this.data),n(this.key)&&this.right&&o(r,this.right.betweenBounds(t,e,n)),r):[]},r.prototype.deleteIfLeaf=function(){return!this.left&&!this.right&&(this.parent?(this.parent.left===this?this.parent.left=null:this.parent.right=null,!0):(delete this.key,this.data=[],!0))},r.prototype.deleteIfOnlyOneChild=function(){var t;return this.left&&!this.right&&(t=this.left),!this.left&&this.right&&(t=this.right),!!t&&(this.parent?(this.parent.left===this?(this.parent.left=t,t.parent=this.parent):(this.parent.right=t,t.parent=this.parent),!0):(this.key=t.key,this.data=t.data,this.left=null,t.left&&(this.left=t.left,t.left.parent=this),this.right=null,t.right&&(this.right=t.right,t.right.parent=this),!0))},r.prototype.delete=function(t,e){var n,r=[],o=this;if(this.hasOwnProperty("key")){if(this.compareKeys(t,this.key)<0)return void(this.left&&this.left.delete(t,e));if(this.compareKeys(t,this.key)>0)return void(this.right&&this.right.delete(t,e));if(0!==!this.compareKeys(t,this.key))return this.data.length>1&&void 0!==e?(this.data.forEach(function(t){o.checkValueEquality(t,e)||r.push(t)}),void(o.data=r)):void(this.deleteIfLeaf()||this.deleteIfOnlyOneChild()||(Math.random()>=.5?(n=this.left.getMaxKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?(this.left=n.left,n.left&&(n.left.parent=n.parent)):(n.parent.right=n.left,n.left&&(n.left.parent=n.parent))):(n=this.right.getMinKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?(this.right=n.right,n.right&&(n.right.parent=n.parent)):(n.parent.left=n.right,n.right&&(n.right.parent=n.parent)))))}},r.prototype.executeOnEveryNode=function(t){this.left&&this.left.executeOnEveryNode(t),t(this),this.right&&this.right.executeOnEveryNode(t)},r.prototype.prettyPrint=function(t,e){e=e||"",console.log(e+"* "+this.key),t&&console.log(e+"* "+this.data),(this.left||this.right)&&(this.left?this.left.prettyPrint(t,e+"  "):console.log(e+"  *"),this.right?this.right.prettyPrint(t,e+"  "):console.log(e+"  *"))},t.exports=r},568:function(t,e){function n(t){var e,r;return 0===t?[]:1===t?[0]:(e=n(t-1),r=Math.floor(Math.random()*t),e.splice(r,0,t-1),e)}function r(t,e){if(t<e)return-1;if(t>e)return 1;if(t===e)return 0;var n=new Error("Couldn't compare elements");throw n.a=t,n.b=e,n}function o(t,e){return t===e}t.exports.getRandomArray=n,t.exports.defaultCompareKeysFunction=r,t.exports.defaultCheckValueEquality=o},569:function(t,e){function n(t){for(var e,e,n=new Array(t),r=0;r<t;r++)0==(3&r)&&(e=4294967296*Math.random()),n[r]=e>>>((3&r)<<3)&255;return n}function r(t){var e,n,r,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=t.length%3,a="";for(r=0,n=t.length-i;r<n;r+=3)e=(t[r]<<16)+(t[r+1]<<8)+t[r+2],a+=function(t){return o[t>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}(e);switch(i){case 1:e=t[t.length-1],a+=o[e>>2],a+=o[e<<4&63],a+="==";break;case 2:e=(t[t.length-2]<<8)+t[t.length-1],a+=o[e>>10],a+=o[e>>4&63],a+=o[e<<2&63],a+="="}return a}function o(t){return r(n(Math.ceil(Math.max(8,2*t)))).replace(/[+\/]/g,"").slice(0,t)}t.exports.uid=o},570:function(t,e,n){function r(t,e){return t===e}function o(t){return null===t?"$null":"string"==typeof t?"$string"+t:"boolean"==typeof t?"$boolean"+t:"number"==typeof t?"$number"+t:c.isArray(t)?"$date"+t.getTime():t}function i(t){this.fieldName=t.fieldName,this.unique=t.unique||!1,this.sparse=t.sparse||!1,this.treeOptions={unique:this.unique,compareKeys:u.compareThings,checkValueEquality:r},this.reset()}var a=n(576).AVLTree,u=n(557),s=n(555),c=n(559);i.prototype.reset=function(t){this.tree=new a(this.treeOptions),t&&this.insert(t)},i.prototype.insert=function(t){var e,n,r,i,a;if(c.isArray(t))return void this.insertMultipleDocs(t);if(void 0!==(e=u.getDotValue(t,this.fieldName))||!this.sparse)if(c.isArray(e)){for(n=s.uniq(e,o),r=0;r<n.length;r+=1)try{this.tree.insert(n[r],t)}catch(t){a=t,i=r;break}if(a){for(r=0;r<i;r+=1)this.tree.delete(n[r],t);throw a}}else this.tree.insert(e,t)},i.prototype.insertMultipleDocs=function(t){var e,n,r;for(e=0;e<t.length;e+=1)try{this.insert(t[e])}catch(t){n=t,r=e;break}if(n){for(e=0;e<r;e+=1)this.remove(t[e]);throw n}},i.prototype.remove=function(t){var e,n=this;if(c.isArray(t))return void t.forEach(function(t){n.remove(t)});void 0===(e=u.getDotValue(t,this.fieldName))&&this.sparse||(c.isArray(e)?s.uniq(e,o).forEach(function(e){n.tree.delete(e,t)}):this.tree.delete(e,t))},i.prototype.update=function(t,e){if(c.isArray(t))return void this.updateMultipleDocs(t);this.remove(t);try{this.insert(e)}catch(e){throw this.insert(t),e}},i.prototype.updateMultipleDocs=function(t){var e,n,r;for(e=0;e<t.length;e+=1)this.remove(t[e].oldDoc);for(e=0;e<t.length;e+=1)try{this.insert(t[e].newDoc)}catch(t){r=t,n=e;break}if(r){for(e=0;e<n;e+=1)this.remove(t[e].newDoc);for(e=0;e<t.length;e+=1)this.insert(t[e].oldDoc);throw r}},i.prototype.revertUpdate=function(t,e){var n=[];c.isArray(t)?(t.forEach(function(t){n.push({oldDoc:t.newDoc,newDoc:t.oldDoc})}),this.update(n)):this.update(e,t)},i.prototype.getMatching=function(t){var e=this;if(c.isArray(t)){var n={},r=[];return t.forEach(function(t){e.getMatching(t).forEach(function(t){n[t._id]=t})}),Object.keys(n).forEach(function(t){r.push(n[t])}),r}return e.tree.search(t)},i.prototype.getBetweenBounds=function(t){return this.tree.betweenBounds(t)},i.prototype.getAll=function(){var t=[];return this.tree.executeOnEveryNode(function(e){var n;for(n=0;n<e.data.length;n+=1)t.push(e.data[n])}),t},t.exports=i},574:function(t,e,n){"use strict";e.__esModule=!0;var r=n(601),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},576:function(t,e,n){t.exports.BinarySearchTree=n(567),t.exports.AVLTree=n(577)},577:function(t,e,n){function r(t){this.tree=new o(t)}function o(t){t=t||{},this.left=null,this.right=null,this.parent=void 0!==t.parent?t.parent:null,t.hasOwnProperty("key")&&(this.key=t.key),this.data=t.hasOwnProperty("value")?[t.value]:[],this.unique=t.unique||!1,this.compareKeys=t.compareKeys||a.defaultCompareKeysFunction,this.checkValueEquality=t.checkValueEquality||a.defaultCheckValueEquality}var i=n(567),a=n(568),u=n(559);n(555);u.inherits(o,i),r._AVLTree=o,o.prototype.checkHeightCorrect=function(){var t,e;if(this.hasOwnProperty("key")){if(this.left&&void 0===this.left.height)throw new Error("Undefined height for node "+this.left.key);if(this.right&&void 0===this.right.height)throw new Error("Undefined height for node "+this.right.key);if(void 0===this.height)throw new Error("Undefined height for node "+this.key);if(t=this.left?this.left.height:0,e=this.right?this.right.height:0,this.height!==1+Math.max(t,e))throw new Error("Height constraint failed for node "+this.key);this.left&&this.left.checkHeightCorrect(),this.right&&this.right.checkHeightCorrect()}},o.prototype.balanceFactor=function(){return(this.left?this.left.height:0)-(this.right?this.right.height:0)},o.prototype.checkBalanceFactors=function(){if(Math.abs(this.balanceFactor())>1)throw new Error("Tree is unbalanced at node "+this.key);this.left&&this.left.checkBalanceFactors(),this.right&&this.right.checkBalanceFactors()},o.prototype.checkIsAVLT=function(){o.super_.prototype.checkIsBST.call(this),this.checkHeightCorrect(),this.checkBalanceFactors()},r.prototype.checkIsAVLT=function(){this.tree.checkIsAVLT()},o.prototype.rightRotation=function(){var t,e,n,r,o=this,i=this.left;return i?(t=i.right,o.parent?(i.parent=o.parent,o.parent.left===o?o.parent.left=i:o.parent.right=i):i.parent=null,i.right=o,o.parent=i,o.left=t,t&&(t.parent=o),e=i.left?i.left.height:0,n=t?t.height:0,r=o.right?o.right.height:0,o.height=Math.max(n,r)+1,i.height=Math.max(e,o.height)+1,i):this},o.prototype.leftRotation=function(){var t,e,n,r,o=this,i=this.right;return i?(t=i.left,o.parent?(i.parent=o.parent,o.parent.left===o?o.parent.left=i:o.parent.right=i):i.parent=null,i.left=o,o.parent=i,o.right=t,t&&(t.parent=o),e=o.left?o.left.height:0,n=t?t.height:0,r=i.right?i.right.height:0,o.height=Math.max(e,n)+1,i.height=Math.max(r,o.height)+1,i):this},o.prototype.rightTooSmall=function(){return this.balanceFactor()<=1?this:(this.left.balanceFactor()<0&&this.left.leftRotation(),this.rightRotation())},o.prototype.leftTooSmall=function(){return this.balanceFactor()>=-1?this:(this.right.balanceFactor()>0&&this.right.rightRotation(),this.leftRotation())},o.prototype.rebalanceAlongPath=function(t){var e,n,r=this;if(!this.hasOwnProperty("key"))return delete this.height,this;for(n=t.length-1;n>=0;n-=1)t[n].height=1+Math.max(t[n].left?t[n].left.height:0,t[n].right?t[n].right.height:0),t[n].balanceFactor()>1&&(e=t[n].rightTooSmall(),0===n&&(r=e)),t[n].balanceFactor()<-1&&(e=t[n].leftTooSmall(),0===n&&(r=e));return r},o.prototype.insert=function(t,e){var n=[],r=this;if(!this.hasOwnProperty("key"))return this.key=t,this.data.push(e),this.height=1,this;for(;;){if(0===r.compareKeys(r.key,t)){if(r.unique){var o=new Error("Can't insert key "+t+", it violates the unique constraint");throw o.key=t,o.errorType="uniqueViolated",o}return r.data.push(e),this}if(n.push(r),r.compareKeys(t,r.key)<0){if(!r.left){n.push(r.createLeftChild({key:t,value:e}));break}r=r.left}else{if(!r.right){n.push(r.createRightChild({key:t,value:e}));break}r=r.right}}return this.rebalanceAlongPath(n)},r.prototype.insert=function(t,e){var n=this.tree.insert(t,e);n&&(this.tree=n)},o.prototype.delete=function(t,e){var n,r=[],o=this,i=[];if(!this.hasOwnProperty("key"))return this;for(;;){if(0===o.compareKeys(t,o.key))break;if(i.push(o),o.compareKeys(t,o.key)<0){if(!o.left)return this;o=o.left}else{if(!o.right)return this;o=o.right}}if(o.data.length>1&&e)return o.data.forEach(function(t){o.checkValueEquality(t,e)||r.push(t)}),o.data=r,this;if(!o.left&&!o.right)return o===this?(delete o.key,o.data=[],delete o.height,this):(o.parent.left===o?o.parent.left=null:o.parent.right=null,this.rebalanceAlongPath(i));if(!o.left||!o.right)return n=o.left?o.left:o.right,o===this?(n.parent=null,n):(o.parent.left===o?(o.parent.left=n,n.parent=o.parent):(o.parent.right=n,n.parent=o.parent),this.rebalanceAlongPath(i));if(i.push(o),n=o.left,!n.right)return o.key=n.key,o.data=n.data,o.left=n.left,n.left&&(n.left.parent=o),this.rebalanceAlongPath(i);for(;;){if(!n.right)break;i.push(n),n=n.right}return o.key=n.key,o.data=n.data,n.parent.right=n.left,n.left&&(n.left.parent=n.parent),this.rebalanceAlongPath(i)},r.prototype.delete=function(t,e){var n=this.tree.delete(t,e);n&&(this.tree=n)},["getNumberOfKeys","search","betweenBounds","prettyPrint","executeOnEveryNode"].forEach(function(t){r.prototype[t]=function(){return this.tree[t].apply(this.tree,arguments)}}),t.exports=r},578:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},579:function(t,e,n){(function(e){var n,n;/*!
    localForage -- Offline Storage, Improved
    Version 1.7.3
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
!function(e){t.exports=e()}(function(){return function t(e,r,o){function i(u,s){if(!r[u]){if(!e[u]){var c="function"==typeof n&&n;if(!s&&c)return n(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var l=r[u]={exports:{}};e[u][0].call(l.exports,function(t){var n=e[u][1][t];return i(n||t)},l,l.exports,t,e,r,o)}return r[u].exports}for(var a="function"==typeof n&&n,u=0;u<o.length;u++)i(o[u]);return i}({1:[function(t,n,r){(function(t){"use strict";function e(){f=!0;for(var t,e,n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}f=!1}function r(t){1!==l.push(t)||f||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var a=0,u=new i(e),s=t.document.createTextNode("");u.observe(s,{characterData:!0}),o=function(){s.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var n=t.document.createElement("script");n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},t.document.documentElement.appendChild(n)}:function(){setTimeout(e,0)};else{var c=new t.MessageChannel;c.port1.onmessage=e,o=function(){c.port2.postMessage(0)}}var f,l=[];n.exports=r}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";function r(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,t!==r&&s(this,t)}function i(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){d(function(){var r;try{r=e(n)}catch(e){return y.reject(t,e)}r===t?y.reject(t,new TypeError("Cannot resolve promise with itself")):y.resolve(t,r)})}function u(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function s(t,e){function n(e){i||(i=!0,y.reject(t,e))}function r(e){i||(i=!0,y.resolve(t,e))}function o(){e(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function f(t){return t instanceof this?t:y.resolve(new this(r),t)}function l(t){var e=new this(r);return y.reject(e,t)}function h(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(t,r){function u(t){i[r]=t,++a!==n||o||(o=!0,y.resolve(s,i))}e.resolve(t).then(u,function(t){o||(o=!0,y.reject(s,t))})}(t[u],u);return s}function p(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(t){e.resolve(t).then(function(t){o||(o=!0,y.resolve(a,t))},function(t){o||(o=!0,y.reject(a,t))})}(t[i]);return a}var d=t(1),y={},v=["REJECTED"],g=["FULFILLED"],m=["PENDING"];e.exports=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===v)return this;var n=new this.constructor(r);if(this.state!==m){a(n,this.state===g?t:e,this.outcome)}else this.queue.push(new i(n,t,e));return n},i.prototype.callFulfilled=function(t){y.resolve(this.promise,t)},i.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},i.prototype.callRejected=function(t){y.reject(this.promise,t)},i.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},y.resolve=function(t,e){var n=c(u,e);if("error"===n.status)return y.reject(t,n.value);var r=n.value;if(r)s(t,r);else{t.state=g,t.outcome=e;for(var o=-1,i=t.queue.length;++o<i;)t.queue[o].callFulfilled(e)}return t},y.reject=function(t,e){t.state=v,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},o.resolve=f,o.reject=l,o.all=h,o.race=p},{1:1}],3:[function(t,n,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<t.length;o+=1)r.append(t[o]);return r.getBlob(e.type)}}function i(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function a(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function u(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function s(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function c(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}function f(t){return new gt(function(e){var n=t.transaction(mt,kt),r=o([""]);n.objectStore(mt).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}function l(t){return"boolean"==typeof bt?gt.resolve(bt):f(t).then(function(t){return bt=t})}function h(t){var e=wt[t.name],n={};n.promise=new gt(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function p(t){var e=wt[t.name],n=e.deferredOperations.pop();if(n)return n.resolve(),n.promise}function d(t,e){var n=wt[t.name],r=n.deferredOperations.pop();if(r)return r.reject(e),r.promise}function y(t,e){return new gt(function(n,r){if(wt[t.name]=wt[t.name]||O(),t.db){if(!e)return n(t.db);h(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var i=vt.open.apply(vt,o);e&&(i.onupgradeneeded=function(e){var n=i.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(mt)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),i.onerror=function(t){t.preventDefault(),r(i.error)},i.onsuccess=function(){n(i.result),p(t)}})}function v(t){return y(t,!1)}function g(t){return y(t,!0)}function m(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,o=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||n){if(n){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function b(t){return new gt(function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:t.type})},r.readAsBinaryString(t)})}function w(t){return o([c(atob(t.data))],{type:t.type})}function _(t){return t&&t.__local_forage_encoded_blob}function x(t){var e=this,n=e._initReady().then(function(){var t=wt[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return a(n,t,t),n}function k(t){h(t);for(var e=wt[t.name],n=e.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,v(t).then(function(e){return t.db=e,m(t)?g(t):e}).then(function(r){t.db=e.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r}).catch(function(e){throw d(t,e),e})}function E(t,e,n,r){void 0===r&&(r=1);try{var o=t.db.transaction(t.storeName,e);n(null,o)}catch(o){if(r>0&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return gt.resolve().then(function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),g(t)}).then(function(){return k(t).then(function(){E(t,e,n,r-1)})}).catch(n);n(o)}}function O(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function j(t){function e(){return gt.resolve()}var n=this,r={db:null};if(t)for(var o in t)r[o]=t[o];var i=wt[r.name];i||(i=O(),wt[r.name]=i),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=x);for(var a=[],u=0;u<i.forages.length;u++){var s=i.forages[u];s!==n&&a.push(s._initReady().catch(e))}var c=i.forages.slice(0);return gt.all(a).then(function(){return r.db=i.db,v(r)}).then(function(t){return r.db=t,m(r,n._defaultConfig.version)?g(r):t}).then(function(t){r.db=i.db=t,n._dbInfo=r;for(var e=0;e<c.length;e++){var o=c[e];o!==n&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})}function S(t,e){var n=this;t=u(t);var r=new gt(function(e,r){n.ready().then(function(){E(n._dbInfo,xt,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=a.get(t);u.onsuccess=function(){var t=u.result;void 0===t&&(t=null),_(t)&&(t=w(t)),e(t)},u.onerror=function(){r(u.error)}}catch(t){r(t)}})}).catch(r)});return i(r,e),r}function A(t,e){var n=this,r=new gt(function(e,r){n.ready().then(function(){E(n._dbInfo,xt,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=a.openCursor(),s=1;u.onsuccess=function(){var n=u.result;if(n){var r=n.value;_(r)&&(r=w(r));var o=t(r,n.key,s++);void 0!==o?e(o):n.continue()}else e()},u.onerror=function(){r(u.error)}}catch(t){r(t)}})}).catch(r)});return i(r,e),r}function C(t,e,n){var r=this;t=u(t);var o=new gt(function(n,o){var i;r.ready().then(function(){return i=r._dbInfo,"[object Blob]"===_t.call(e)?l(i.db).then(function(t){return t?e:b(e)}):e}).then(function(e){E(r._dbInfo,kt,function(i,a){if(i)return o(i);try{var u=a.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var s=u.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),n(e)},a.onabort=a.onerror=function(){var t=s.error?s.error:s.transaction.error;o(t)}}catch(t){o(t)}})}).catch(o)});return i(o,n),o}function I(t,e){var n=this;t=u(t);var r=new gt(function(e,r){n.ready().then(function(){E(n._dbInfo,kt,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=a.delete(t);i.oncomplete=function(){e()},i.onerror=function(){r(u.error)},i.onabort=function(){var t=u.error?u.error:u.transaction.error;r(t)}}catch(t){r(t)}})}).catch(r)});return i(r,e),r}function $(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){E(e._dbInfo,kt,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName),a=i.clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=a.error?a.error:a.transaction.error;n(t)}}catch(t){n(t)}})}).catch(n)});return i(n,t),n}function D(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){E(e._dbInfo,xt,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName),a=i.count();a.onsuccess=function(){t(a.result)},a.onerror=function(){n(a.error)}}catch(t){n(t)}})}).catch(n)});return i(n,t),n}function N(t,e){var n=this,r=new gt(function(e,r){if(t<0)return void e(null);n.ready().then(function(){E(n._dbInfo,xt,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=!1,s=a.openCursor();s.onsuccess=function(){var n=s.result;if(!n)return void e(null);0===t?e(n.key):u?e(n.key):(u=!0,n.advance(t))},s.onerror=function(){r(s.error)}}catch(t){r(t)}})}).catch(r)});return i(r,e),r}function M(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){E(e._dbInfo,xt,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName),a=i.openCursor(),u=[];a.onsuccess=function(){var e=a.result;if(!e)return void t(u);u.push(e.key),e.continue()},a.onerror=function(){n(a.error)}}catch(t){n(t)}})}).catch(n)});return i(n,t),n}function T(t,e){e=s.apply(this,arguments);var n=this.config();t="function"!=typeof t&&t||{},t.name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,o=this;if(t.name){var a=t.name===n.name&&o._dbInfo.db,u=a?gt.resolve(o._dbInfo.db):v(t).then(function(e){var n=wt[t.name],r=n.forages;n.db=e;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=e;return e});r=t.storeName?u.then(function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;h(t);var r=wt[t.name],o=r.forages;e.close();for(var i=0;i<o.length;i++){var a=o[i];a._dbInfo.db=null,a._dbInfo.version=n}return new gt(function(e,r){var o=vt.open(t.name,n);o.onerror=function(t){o.result.close(),r(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}).then(function(t){r.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,p(n._dbInfo)}}).catch(function(e){throw(d(t,e)||gt.resolve()).catch(function(){}),e})}}):u.then(function(e){h(t);var n=wt[t.name],r=n.forages;e.close();for(var o=0;o<r.length;o++){r[o]._dbInfo.db=null}return new gt(function(e,n){var r=vt.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}).then(function(t){n.db=t;for(var e=0;e<r.length;e++)p(r[e]._dbInfo)}).catch(function(e){throw(d(t,e)||gt.resolve()).catch(function(){}),e})})}else r=gt.reject("Invalid arguments");return i(r,e),r}function R(t){var e,n,r,o,i,a=.75*t.length,u=t.length,s=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),f=new Uint8Array(c);for(e=0;e<u;e+=4)n=Ot.indexOf(t[e]),r=Ot.indexOf(t[e+1]),o=Ot.indexOf(t[e+2]),i=Ot.indexOf(t[e+3]),f[s++]=n<<2|r>>4,f[s++]=(15&r)<<4|o>>2,f[s++]=(3&o)<<6|63&i;return c}function F(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=Ot[n[e]>>2],r+=Ot[(3&n[e])<<4|n[e+1]>>4],r+=Ot[(15&n[e+1])<<2|n[e+2]>>6],r+=Ot[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function P(t,e){var n="";if(t&&(n=zt.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===zt.call(t.buffer))){var r,o=At;t instanceof ArrayBuffer?(r=t,o+=It):(r=t.buffer,"[object Int8Array]"===n?o+=Dt:"[object Uint8Array]"===n?o+=Nt:"[object Uint8ClampedArray]"===n?o+=Mt:"[object Int16Array]"===n?o+=Tt:"[object Uint16Array]"===n?o+=Ft:"[object Int32Array]"===n?o+=Rt:"[object Uint32Array]"===n?o+=Pt:"[object Float32Array]"===n?o+=Lt:"[object Float64Array]"===n?o+=Bt:e(new Error("Failed to get type for BinaryArray"))),e(o+F(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=jt+t.type+"~"+F(this.result);e(At+$t+n)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}}function L(t){if(t.substring(0,Ct)!==At)return JSON.parse(t);var e,n=t.substring(qt),r=t.substring(Ct,qt);if(r===$t&&St.test(n)){var i=n.match(St);e=i[1],n=n.substring(i[0].length)}var a=R(n);switch(r){case It:return a;case $t:return o([a],{type:e});case Dt:return new Int8Array(a);case Nt:return new Uint8Array(a);case Mt:return new Uint8ClampedArray(a);case Tt:return new Int16Array(a);case Ft:return new Uint16Array(a);case Rt:return new Int32Array(a);case Pt:return new Uint32Array(a);case Lt:return new Float32Array(a);case Bt:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}}function B(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function q(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var o=new gt(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return r(t)}n.db.transaction(function(o){B(o,n,function(){e._dbInfo=n,t()},function(t,e){r(e)})},r)});return n.serializer=Kt,o}function z(t,e,n,r,o,i){t.executeSql(n,r,o,function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],function(t,u){u.rows.length?i(t,a):B(t,e,function(){t.executeSql(n,r,o,i)},i)},i):i(t,a)},i)}function K(t,e){var n=this;t=u(t);var r=new gt(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){z(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return i(r,e),r}function U(t,e){var n=this,r=new gt(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){z(n,o,"SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,a=i.length,u=0;u<a;u++){var s=i.item(u),c=s.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=t(c,s.key,u+1)))return void e(c)}e()},function(t,e){r(e)})})}).catch(r)});return i(r,e),r}function W(t,e,n,r){var o=this;t=u(t);var a=new gt(function(i,a){o.ready().then(function(){void 0===e&&(e=null);var u=e,s=o._dbInfo;s.serializer.serialize(e,function(e,c){c?a(c):s.db.transaction(function(n){z(n,s,"INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){i(u)},function(t,e){a(e)})},function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void i(W.apply(o,[t,u,n,r-1]));a(e)}})})}).catch(a)});return i(a,n),a}function V(t,e,n){return W.apply(this,[t,e,n,1])}function H(t,e){var n=this;t=u(t);var r=new gt(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){z(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return i(r,e),r}function J(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){z(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return i(n,t),n}function G(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){z(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return i(n,t),n}function Y(t,e){var n=this,r=new gt(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){z(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return i(r,e),r}function Q(t){var e=this,n=new gt(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){z(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);t(r)},function(t,e){n(e)})})}).catch(n)});return i(n,t),n}function X(t){return new gt(function(e,n){t.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);e({db:t,storeNames:o})},function(t,e){n(e)})},function(t){n(t)})})}function Z(t,e){e=s.apply(this,arguments);var n=this.config();t="function"!=typeof t&&t||{},t.name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,o=this;return r=t.name?new gt(function(e){var r;r=t.name===n.name?o._dbInfo.db:openDatabase(t.name,"","",0),e(t.storeName?{db:r,storeNames:[t.storeName]}:X(r))}).then(function(t){return new gt(function(e,n){t.db.transaction(function(r){for(var o=[],i=0,a=t.storeNames.length;i<a;i++)o.push(function(t){return new gt(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}(t.storeNames[i]));gt.all(o).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):gt.reject("Invalid arguments"),i(r,e),r}function tt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function et(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}function nt(){return!et()||localStorage.length>0}function rt(t){var e=this,n={};if(t)for(var r in t)n[r]=t[r];return n.keyPrefix=tt(t,e._defaultConfig),nt()?(e._dbInfo=n,n.serializer=Kt,gt.resolve()):gt.reject()}function ot(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return i(n,t),n}function it(t,e){var n=this;t=u(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return i(r,e),r}function at(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,o=r.length,i=localStorage.length,a=1,u=0;u<i;u++){var s=localStorage.key(u);if(0===s.indexOf(r)){var c=localStorage.getItem(s);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,s.substring(o),a++)))return c}}});return i(r,e),r}function ut(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return i(r,e),r}function st(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&r.push(i.substring(t.keyPrefix.length))}return r});return i(n,t),n}function ct(t){var e=this,n=e.keys().then(function(t){return t.length});return i(n,t),n}function ft(t,e){var n=this;t=u(t);var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return i(r,e),r}function lt(t,e,n){var r=this;t=u(t);var o=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new gt(function(o,i){var a=r._dbInfo;a.serializer.serialize(e,function(e,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+t,e),o(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||i(t),i(t)}})})});return i(o,n),o}function ht(t,e){if(e=s.apply(this,arguments),t="function"!=typeof t&&t||{},!t.name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,o=this;return r=t.name?new gt(function(e){e(t.storeName?tt(t,o._defaultConfig):t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):gt.reject("Invalid arguments"),i(r,e),r}function pt(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function dt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(Jt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();"undefined"==typeof Promise&&t(3);var gt=Promise,mt="local-forage-detect-blob-support",bt=void 0,wt={},_t=Object.prototype.toString,xt="readonly",kt="readwrite",Et={_driver:"asyncStorage",_initStorage:j,_support:function(){try{if(!vt)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:A,getItem:S,setItem:C,removeItem:I,clear:$,length:D,key:N,keys:M,dropInstance:T},Ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jt="~~local_forage_type~",St=/^~~local_forage_type~([^~]+)~/,At="__lfsc__:",Ct=At.length,It="arbf",$t="blob",Dt="si08",Nt="ui08",Mt="uic8",Tt="si16",Rt="si32",Ft="ur16",Pt="ui32",Lt="fl32",Bt="fl64",qt=Ct+It.length,zt=Object.prototype.toString,Kt={serialize:P,deserialize:L,stringToBuffer:R,bufferToString:F},Ut={_driver:"webSQLStorage",_initStorage:q,_support:function(){return"function"==typeof openDatabase}(),iterate:U,getItem:K,setItem:V,removeItem:H,clear:J,length:G,key:Y,keys:Q,dropInstance:Z},Wt={_driver:"localStorageWrapper",_initStorage:rt,_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:at,getItem:it,setItem:lt,removeItem:ft,clear:ot,length:ct,key:ut,keys:st,dropInstance:ht},Vt=function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)},Ht=function(t,e){for(var n=t.length,r=0;r<n;){if(Vt(t[r],e))return!0;r++}return!1},Jt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Gt={},Yt={},Qt={INDEXEDDB:Et,WEBSQL:Ut,LOCALSTORAGE:Wt},Xt=[Qt.INDEXEDDB._driver,Qt.WEBSQL._driver,Qt.LOCALSTORAGE._driver],Zt=["dropInstance"],te=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Zt),ee={description:"",driver:Xt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},ne=function(){function t(e){r(this,t);for(var n in Qt)if(Qt.hasOwnProperty(n)){var o=Qt[n],i=o._driver;this[n]=i,Gt[i]||this.defineDriver(o)}this._defaultConfig=dt({},ee),this._config=dt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":yt(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new gt(function(e,n){try{var r=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(o);for(var a=te.concat("_initStorage"),u=0,s=a.length;u<s;u++){var c=a[u];if((!Ht(Zt,c)||t[c])&&"function"!=typeof t[c])return void n(o)}!function(){for(var e=0,n=Zt.length;e<n;e++){var r=Zt[e];t[r]||(t[r]=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=gt.reject(e);return i(n,arguments[arguments.length-1]),n}}(r))}}();var f=function(n){Gt[r]&&console.info("Redefining LocalForage driver: "+r),Gt[r]=t,Yt[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(f,n):f(!!t._support):f(!0)}catch(t){n(t)}});return a(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=Gt[t]?gt.resolve(Gt[t]):gt.reject(new Error("Driver not found."));return a(r,e,n),r},t.prototype.getSerializer=function(t){var e=gt.resolve(Kt);return a(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return a(n,t,t),n},t.prototype.setDriver=function(t,e,n){function r(){u._config.driver=u.driver()}function o(t){return u._extend(t),r(),u._ready=u._initStorage(u._config),u._ready}function i(t){return function(){function e(){for(;n<t.length;){var i=t[n];return n++,u._dbInfo=null,u._ready=null,u.getDriver(i).then(o).catch(e)}r();var a=new Error("No available storage method found.");return u._driverSet=gt.reject(a),u._driverSet}var n=0;return e()}}var u=this;Jt(t)||(t=[t]);var s=this._getSupportedDrivers(t),c=null!==this._driverSet?this._driverSet.catch(function(){return gt.resolve()}):gt.resolve();return this._driverSet=c.then(function(){var t=s[0];return u._dbInfo=null,u._ready=null,u.getDriver(t).then(function(t){u._driver=t._driver,r(),u._wrapLibraryMethodsWithReady(),u._initDriver=i(s)})}).catch(function(){r();var t=new Error("No available storage method found.");return u._driverSet=gt.reject(t),u._driverSet}),a(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!Yt[t]},t.prototype._extend=function(t){dt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=te.length;t<e;t++)pt(this,te[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),re=new ne;e.exports=re},{3:3}]},{},[4])(4)})}).call(e,n(55))},580:function(t,e){t.exports=function(t,e,n){for(var r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=Math.ceil(1.6*r*n/e.length),i="";;)for(var a=t(o),u=0;u<o;u++){var s=a[u]&r;if(e[s]&&(i+=e[s],i.length===n))return i}}},581:function(t,e,n){function r(t,e){l.getItem(t,function(t,n){return e(null!==n?!0:!1)})}function o(t,e,n){l.getItem(t,function(r,o){null===o?l.removeItem(e,function(){return n()}):l.setItem(e,o,function(){l.removeItem(t,function(){return n()})})})}function i(t,e,n,r){"function"==typeof n&&(r=n),l.setItem(t,e,function(){return r()})}function a(t,e,n,r){"function"==typeof n&&(r=n),l.getItem(t,function(n,o){o=o||"",o+=e,l.setItem(t,o,function(){return r()})})}function u(t,e,n){"function"==typeof e&&(n=e),l.getItem(t,function(t,e){return n(null,e||"")})}function s(t,e){l.removeItem(t,function(){return e()})}function c(t,e){return e()}function f(t,e){return e(null)}var l=n(579);l.config({name:"NeDB",storeName:"nedbdata"}),t.exports.exists=r,t.exports.rename=o,t.exports.writeFile=i,t.exports.crashSafeWriteFile=i,t.exports.appendFile=a,t.exports.readFile=u,t.exports.unlink=s,t.exports.mkdirp=c,t.exports.ensureDatafileIntegrity=f},582:function(t,e,n){var r=n(584);t.exports=r},583:function(t,e,n){function r(t,e,n){this.db=t,this.query=e||{},n&&(this.execFn=n)}var o=n(557),i=n(555);r.prototype.limit=function(t){return this._limit=t,this},r.prototype.skip=function(t){return this._skip=t,this},r.prototype.sort=function(t){return this._sort=t,this},r.prototype.projection=function(t){return this._projection=t,this},r.prototype.project=function(t){var e,n,r,a=[],u=this;return void 0===this._projection||0===Object.keys(this._projection).length?t:(e=0!==this._projection._id,this._projection=i.omit(this._projection,"_id"),r=Object.keys(this._projection),r.forEach(function(t){if(void 0!==n&&u._projection[t]!==n)throw new Error("Can't both keep and omit fields except for _id");n=u._projection[t]}),t.forEach(function(t){var i;1===n?(i={$set:{}},r.forEach(function(e){i.$set[e]=o.getDotValue(t,e),void 0===i.$set[e]&&delete i.$set[e]}),i=o.modify({},i)):(i={$unset:{}},r.forEach(function(t){i.$unset[t]=!0}),i=o.modify(t,i)),e?i._id=t._id:delete i._id,a.push(i)}),a)},r.prototype._exec=function(t){function e(e,n){return c.execFn?c.execFn(e,n,t):t(e,n)}var n,r,i,a=[],u=0,s=0,c=this,f=null;this.db.getCandidates(this.query,function(t,l){if(t)return e(t);try{for(n=0;n<l.length;n+=1)if(o.match(l[n],c.query))if(c._sort)a.push(l[n]);else if(c._skip&&c._skip>s)s+=1;else if(a.push(l[n]),u+=1,c._limit&&c._limit<=u)break}catch(t){return e(t)}if(c._sort){r=Object.keys(c._sort);var h=[];for(n=0;n<r.length;n++)i=r[n],h.push({key:i,direction:c._sort[i]});a.sort(function(t,e){var n,r,i;for(i=0;i<h.length;i++)if(n=h[i],0!==(r=n.direction*o.compareThings(o.getDotValue(t,n.key),o.getDotValue(e,n.key),c.db.compareStrings)))return r;return 0});var p=c._limit||a.length,d=c._skip||0;a=a.slice(d,d+p)}try{a=c.project(a)}catch(t){f=t,a=void 0}return e(f,a)})},r.prototype.exec=function(){this.db.executor.push({this:this,fn:this._exec,arguments:arguments})},t.exports=r},584:function(t,e,n){function r(t){var e;"string"==typeof t?(e=t,this.inMemoryOnly=!1):(t=t||{},e=t.filename,this.inMemoryOnly=t.inMemoryOnly||!1,this.autoload=t.autoload||!1,this.timestampData=t.timestampData||!1),e&&"string"==typeof e&&0!==e.length?this.filename=e:(this.filename=null,this.inMemoryOnly=!0),this.compareStrings=t.compareStrings,this.persistence=new l({db:this,nodeWebkitAppName:t.nodeWebkitAppName,afterSerialization:t.afterSerialization,beforeDeserialization:t.beforeDeserialization,corruptAlertThreshold:t.corruptAlertThreshold}),this.executor=new u,this.inMemoryOnly&&(this.executor.ready=!0),this.indexes={},this.indexes._id=new s({fieldName:"_id",unique:!0}),this.ttlIndexes={},this.autoload&&this.loadDatabase(t.onload||function(t){if(t)throw t})}var o=n(569),i=n(557),a=n(561),u=n(585),s=n(570),c=n(559),f=n(555),l=n(586),h=n(583);c.inherits(r,n(596).EventEmitter),r.prototype.loadDatabase=function(){this.executor.push({this:this.persistence,fn:this.persistence.loadDatabase,arguments:arguments},!0)},r.prototype.getAllData=function(){return this.indexes._id.getAll()},r.prototype.resetIndexes=function(t){var e=this;Object.keys(this.indexes).forEach(function(n){e.indexes[n].reset(t)})},r.prototype.ensureIndex=function(t,e){var n,r=e||function(){};if(t=t||{},!t.fieldName)return n=new Error("Cannot create an index without a fieldName"),n.missingFieldName=!0,r(n);if(this.indexes[t.fieldName])return r(null);this.indexes[t.fieldName]=new s(t),void 0!==t.expireAfterSeconds&&(this.ttlIndexes[t.fieldName]=t.expireAfterSeconds);try{this.indexes[t.fieldName].insert(this.getAllData())}catch(e){return delete this.indexes[t.fieldName],r(e)}this.persistence.persistNewState([{$$indexCreated:t}],function(t){return r(t?t:null)})},r.prototype.removeIndex=function(t,e){var n=e||function(){};delete this.indexes[t],this.persistence.persistNewState([{$$indexRemoved:t}],function(t){return n(t?t:null)})},r.prototype.addToIndexes=function(t){var e,n,r,o=Object.keys(this.indexes);for(e=0;e<o.length;e+=1)try{this.indexes[o[e]].insert(t)}catch(t){n=e,r=t;break}if(r){for(e=0;e<n;e+=1)this.indexes[o[e]].remove(t);throw r}},r.prototype.removeFromIndexes=function(t){var e=this;Object.keys(this.indexes).forEach(function(n){e.indexes[n].remove(t)})},r.prototype.updateIndexes=function(t,e){var n,r,o,i=Object.keys(this.indexes);for(n=0;n<i.length;n+=1)try{this.indexes[i[n]].update(t,e)}catch(t){r=n,o=t;break}if(o){for(n=0;n<r;n+=1)this.indexes[i[n]].revertUpdate(t,e);throw o}},r.prototype.getCandidates=function(t,e,n){var r,o=Object.keys(this.indexes),i=this;"function"==typeof e&&(n=e,e=!1),a.waterfall([function(e){return r=[],Object.keys(t).forEach(function(e){("string"==typeof t[e]||"number"==typeof t[e]||"boolean"==typeof t[e]||c.isDate(t[e])||null===t[e])&&r.push(e)}),r=f.intersection(r,o),r.length>0?e(null,i.indexes[r[0]].getMatching(t[r[0]])):(r=[],Object.keys(t).forEach(function(e){t[e]&&t[e].hasOwnProperty("$in")&&r.push(e)}),r=f.intersection(r,o),r.length>0?e(null,i.indexes[r[0]].getMatching(t[r[0]].$in)):(r=[],Object.keys(t).forEach(function(e){t[e]&&(t[e].hasOwnProperty("$lt")||t[e].hasOwnProperty("$lte")||t[e].hasOwnProperty("$gt")||t[e].hasOwnProperty("$gte"))&&r.push(e)}),r=f.intersection(r,o),r.length>0?e(null,i.indexes[r[0]].getBetweenBounds(t[r[0]])):e(null,i.getAllData())))},function(t){if(e)return n(null,t);var r=[],o=[],u=Object.keys(i.ttlIndexes);t.forEach(function(t){var e=!0;u.forEach(function(n){void 0!==t[n]&&c.isDate(t[n])&&Date.now()>t[n].getTime()+1e3*i.ttlIndexes[n]&&(e=!1)}),e?o.push(t):r.push(t._id)}),a.eachSeries(r,function(t,e){i._remove({_id:t},{},function(t){return t?n(t):e()})},function(t){return n(null,o)})}])},r.prototype._insert=function(t,e){var n,r=e||function(){};try{n=this.prepareDocumentForInsertion(t),this._insertInCache(n)}catch(t){return r(t)}this.persistence.persistNewState(c.isArray(n)?n:[n],function(t){return t?r(t):r(null,i.deepCopy(n))})},r.prototype.createNewId=function(){var t=o.uid(16);return this.indexes._id.getMatching(t).length>0&&(t=this.createNewId()),t},r.prototype.prepareDocumentForInsertion=function(t){var e,n=this;if(c.isArray(t))e=[],t.forEach(function(t){e.push(n.prepareDocumentForInsertion(t))});else{e=i.deepCopy(t),void 0===e._id&&(e._id=this.createNewId());var r=new Date;this.timestampData&&void 0===e.createdAt&&(e.createdAt=r),this.timestampData&&void 0===e.updatedAt&&(e.updatedAt=r),i.checkObject(e)}return e},r.prototype._insertInCache=function(t){c.isArray(t)?this._insertMultipleDocsInCache(t):this.addToIndexes(t)},r.prototype._insertMultipleDocsInCache=function(t){var e,n,r;for(e=0;e<t.length;e+=1)try{this.addToIndexes(t[e])}catch(t){r=t,n=e;break}if(r){for(e=0;e<n;e+=1)this.removeFromIndexes(t[e]);throw r}},r.prototype.insert=function(){this.executor.push({this:this,fn:this._insert,arguments:arguments})},r.prototype.count=function(t,e){var n=new h(this,t,function(t,e,n){return t?n(t):n(null,e.length)});if("function"!=typeof e)return n;n.exec(e)},r.prototype.find=function(t,e,n){switch(arguments.length){case 1:e={};break;case 2:"function"==typeof e&&(n=e,e={})}var r=new h(this,t,function(t,e,n){var r,o=[];if(t)return n(t);for(r=0;r<e.length;r+=1)o.push(i.deepCopy(e[r]));return n(null,o)});if(r.projection(e),"function"!=typeof n)return r;r.exec(n)},r.prototype.findOne=function(t,e,n){switch(arguments.length){case 1:e={};break;case 2:"function"==typeof e&&(n=e,e={})}var r=new h(this,t,function(t,e,n){return t?n(t):1===e.length?n(null,i.deepCopy(e[0])):n(null,null)});if(r.projection(e).limit(1),"function"!=typeof n)return r;r.exec(n)},r.prototype._update=function(t,e,n,r){var o,u,s,c,l=this,p=0;"function"==typeof n&&(r=n,n={}),o=r||function(){},u=void 0!==n.multi&&n.multi,s=void 0!==n.upsert&&n.upsert,a.waterfall([function(n){if(!s)return n();new h(l,t).limit(1)._exec(function(r,a){if(r)return o(r);if(1===a.length)return n();var u;try{i.checkObject(e),u=e}catch(n){try{u=i.modify(i.deepCopy(t,!0),e)}catch(r){return o(r)}}return l._insert(u,function(t,e){return t?o(t):o(null,1,e,!0)})})},function(){var r,a,s=[];l.getCandidates(t,function(h,d){if(h)return o(h);try{for(c=0;c<d.length;c+=1)i.match(d[c],t)&&(u||0===p)&&(p+=1,l.timestampData&&(a=d[c].createdAt),r=i.modify(d[c],e),l.timestampData&&(r.createdAt=a,r.updatedAt=new Date),s.push({oldDoc:d[c],newDoc:r}))}catch(h){return o(h)}try{l.updateIndexes(s)}catch(h){return o(h)}var y=f.pluck(s,"newDoc");l.persistence.persistNewState(y,function(t){if(t)return o(t);if(n.returnUpdatedDocs){var e=[];return y.forEach(function(t){e.push(i.deepCopy(t))}),u||(e=e[0]),o(null,p,e)}return o(null,p)})})}])},r.prototype.update=function(){this.executor.push({this:this,fn:this._update,arguments:arguments})},r.prototype._remove=function(t,e,n){var r,o,a=this,u=0,s=[];"function"==typeof e&&(n=e,e={}),r=n||function(){},o=void 0!==e.multi&&e.multi,this.getCandidates(t,!0,function(e,n){if(e)return r(e);try{n.forEach(function(e){i.match(e,t)&&(o||0===u)&&(u+=1,s.push({$$deleted:!0,_id:e._id}),a.removeFromIndexes(e))})}catch(e){return r(e)}a.persistence.persistNewState(s,function(t){return t?r(t):r(null,u)})})},r.prototype.remove=function(){this.executor.push({this:this,fn:this._remove,arguments:arguments})},t.exports=r},585:function(t,e,n){(function(e,r){function o(){this.buffer=[],this.ready=!1,this.queue=i.queue(function(t,n){for(var o=[],i=0;i<t.arguments.length;i+=1)o.push(t.arguments[i]);var a=t.arguments[t.arguments.length-1];"function"==typeof a?o[o.length-1]=function(){"function"==typeof e?e(n):r.nextTick(n),a.apply(null,arguments)}:a||0===t.arguments.length?o.push(function(){n()}):o[o.length-1]=function(){n()},t.fn.apply(t.this,o)},1)}var i=n(561);o.prototype.push=function(t,e){this.ready||e?this.queue.push(t):this.buffer.push(t)},o.prototype.processBuffer=function(){var t;for(this.ready=!0,t=0;t<this.buffer.length;t+=1)this.queue.push(this.buffer[t]);this.buffer=[]},t.exports=o}).call(e,n(205).setImmediate,n(136))},586:function(t,e,n){(function(e){function r(t){var e,n,o;if(this.db=t.db,this.inMemoryOnly=this.db.inMemoryOnly,this.filename=this.db.filename,this.corruptAlertThreshold=void 0!==t.corruptAlertThreshold?t.corruptAlertThreshold:.1,!this.inMemoryOnly&&this.filename&&"~"===this.filename.charAt(this.filename.length-1))throw new Error("The datafile name can't end with a ~, which is reserved for crash safe backup files");if(t.afterSerialization&&!t.beforeDeserialization)throw new Error("Serialization hook defined but deserialization hook undefined, cautiously refusing to start NeDB to prevent dataloss");if(!t.afterSerialization&&t.beforeDeserialization)throw new Error("Serialization hook undefined but deserialization hook defined, cautiously refusing to start NeDB to prevent dataloss");for(this.afterSerialization=t.afterSerialization||function(t){return t},this.beforeDeserialization=t.beforeDeserialization||function(t){return t},e=1;e<30;e+=1)for(n=0;n<10;n+=1)if(o=s.uid(e),this.beforeDeserialization(this.afterSerialization(o))!==o)throw new Error("beforeDeserialization is not the reverse of afterSerialization, cautiously refusing to start NeDB to prevent dataloss");this.filename&&t.nodeWebkitAppName&&(console.log("=================================================================="),console.log("WARNING: The nodeWebkitAppName option is deprecated"),console.log("To get the path to the directory where Node Webkit stores the data"),console.log("for your app, use the internal nw.gui module like this"),console.log("require('nw.gui').App.dataPath"),console.log("See https://github.com/rogerwang/node-webkit/issues/500"),console.log("=================================================================="),this.filename=r.getNWAppFilename(t.nodeWebkitAppName,this.filename))}var o=n(581),i=n(597),a=n(557),u=n(561),s=n(569),c=n(570);r.ensureDirectoryExists=function(t,e){var n=e||function(){};o.mkdirp(t,function(t){return n(t)})},r.getNWAppFilename=function(t,r){var o;switch(e.platform){case"win32":case"win64":if(!(o=n.i({NODE_ENV:"production"}).LOCALAPPDATA||n.i({NODE_ENV:"production"}).APPDATA))throw new Error("Couldn't find the base application data folder");o=i.join(o,t);break;case"darwin":if(!(o=n.i({NODE_ENV:"production"}).HOME))throw new Error("Couldn't find the base application data directory");o=i.join(o,"Library","Application Support",t);break;case"linux":if(!(o=n.i({NODE_ENV:"production"}).HOME))throw new Error("Couldn't find the base application data directory");o=i.join(o,".config",t);break;default:throw new Error("Can't use the Node Webkit relative path for platform "+e.platform)}return i.join(o,"nedb-data",r)},r.prototype.persistCachedDatabase=function(t){var e=t||function(){},n="",r=this;if(this.inMemoryOnly)return e(null);this.db.getAllData().forEach(function(t){n+=r.afterSerialization(a.serialize(t))+"\n"}),Object.keys(this.db.indexes).forEach(function(t){"_id"!=t&&(n+=r.afterSerialization(a.serialize({$$indexCreated:{fieldName:t,unique:r.db.indexes[t].unique,sparse:r.db.indexes[t].sparse}}))+"\n")}),o.crashSafeWriteFile(this.filename,n,function(t){return t?e(t):(r.db.emit("compaction.done"),e(null))})},r.prototype.compactDatafile=function(){this.db.executor.push({this:this,fn:this.persistCachedDatabase,arguments:[]})},r.prototype.setAutocompactionInterval=function(t){var e=this,n=Math.max(t||0,5e3);this.stopAutocompaction(),this.autocompactionIntervalId=setInterval(function(){e.compactDatafile()},n)},r.prototype.stopAutocompaction=function(){this.autocompactionIntervalId&&clearInterval(this.autocompactionIntervalId)},r.prototype.persistNewState=function(t,e){var n=this,r="",i=e||function(){};return n.inMemoryOnly?i(null):(t.forEach(function(t){r+=n.afterSerialization(a.serialize(t))+"\n"}),0===r.length?i(null):void o.appendFile(n.filename,r,"utf8",function(t){return i(t)}))},r.prototype.treatRawData=function(t){var e,n=t.split("\n"),r={},o=[],i={},u=-1;for(e=0;e<n.length;e+=1){var s;try{s=a.deserialize(this.beforeDeserialization(n[e])),s._id?!0===s.$$deleted?delete r[s._id]:r[s._id]=s:s.$$indexCreated&&void 0!=s.$$indexCreated.fieldName?i[s.$$indexCreated.fieldName]=s.$$indexCreated:"string"==typeof s.$$indexRemoved&&delete i[s.$$indexRemoved]}catch(t){u+=1}}if(n.length>0&&u/n.length>this.corruptAlertThreshold)throw new Error("More than "+Math.floor(100*this.corruptAlertThreshold)+"% of the data file is corrupt, the wrong beforeDeserialization hook may be used. Cautiously refusing to start NeDB to prevent dataloss");return Object.keys(r).forEach(function(t){o.push(r[t])}),{data:o,indexes:i}},r.prototype.loadDatabase=function(t){var e=t||function(){},n=this;if(n.db.resetIndexes(),n.inMemoryOnly)return e(null);u.waterfall([function(t){r.ensureDirectoryExists(i.dirname(n.filename),function(e){o.ensureDatafileIntegrity(n.filename,function(e){o.readFile(n.filename,"utf8",function(e,r){if(e)return t(e);try{var o=n.treatRawData(r)}catch(e){return t(e)}Object.keys(o.indexes).forEach(function(t){n.db.indexes[t]=new c(o.indexes[t])});try{n.db.resetIndexes(o.data)}catch(e){return n.db.resetIndexes(),t(e)}n.db.persistence.persistCachedDatabase(t)})})})}],function(t){return t?e(t):(n.db.executor.processBuffer(),e(null))})},t.exports=r}).call(e,n(136))},587:function(t,e,n){"use strict";t.exports=n(590)},588:function(t,e,n){"use strict";function r(t){var e="",n=Math.floor(.001*(Date.now()-u));return n===i?o++:(o=0,i=n),e+=a(s),e+=a(t),o>0&&(e+=a(o)),e+=a(n)}var o,i,a=n(589),u=(n(558),1459707606518),s=6;t.exports=r},589:function(t,e,n){"use strict";function r(t){for(var e,n=0,r="";!e;)r+=a(i,o.get(),1),e=t<Math.pow(16,n+1),n++;return r}var o=n(558),i=n(592),a=n(580);t.exports=r},590:function(t,e,n){"use strict";function r(e){return u.seed(e),t.exports}function o(e){return f=e,t.exports}function i(t){return void 0!==t&&u.characters(t),u.shuffled()}function a(){return s(f)}var u=n(558),s=n(588),c=n(591),f=n(594)||0;t.exports=a,t.exports.generate=a,t.exports.seed=r,t.exports.worker=o,t.exports.characters=i,t.exports.isValid=c},591:function(t,e,n){"use strict";function r(t){return!(!t||"string"!=typeof t||t.length<6)&&!new RegExp("[^"+o.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(t)}var o=n(558);t.exports=r},592:function(t,e,n){"use strict";var r,o="object"==typeof window&&(window.crypto||window.msCrypto);r=o&&o.getRandomValues?function(t){return o.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},t.exports=r},593:function(t,e,n){"use strict";function r(){return(i=(9301*i+49297)%233280)/233280}function o(t){i=t}var i=1;t.exports={nextValue:r,seed:o}},594:function(t,e,n){"use strict";t.exports=0},595:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function sortObjectKeys(t){var e=[];return(0,_keys2.default)(t).sort().forEach(function(n){e.push({key:n,num:t[n]})}),e}Object.defineProperty(exports,"__esModule",{value:!0});var _keys=__webpack_require__(206),_keys2=_interopRequireDefault(_keys),_manba=__webpack_require__(73),_manba2=_interopRequireDefault(_manba),shortid=__webpack_require__(587);shortid.characters("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&=");var Datastore=__webpack_require__(582),RootCat={title:"根",key:"root"},categorys=new Datastore({filename:"category",autoload:!0}),bookmarks=new Datastore({filename:"bookmark",autoload:!0}),Database={IDMaker:{gen:function(){return shortid.generate()}},Category:{getAll:function getAll(nameFilter,callback){var where={};nameFilter&&(where={name:{$regex:eval("/"+nameFilter+"/")}}),categorys.find(where).sort({create_time:-1}).exec(callback)},search:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments[2];categorys.find(t).sort({create_time:-1}).limit(e).exec(n)},find:function(t,e){categorys.findOne({id:t},e)},getAllCount:function(t){categorys.count({},t)},getThreeMonthCount:function(t){var e=(0,_manba2.default)().add(-3,_manba2.default.MONTH).format("f");categorys.count({create_time:{$gte:e}},t)},getThreeMonth:function(t){var e=(0,_manba2.default)().add(-3,_manba2.default.MONTH).format("f");categorys.find({create_time:{$gte:e}},t)},clearAll:function(t){categorys.remove({},{multi:!0},t)},remove:function(t,e){categorys.remove({id:t.id},{},e)},removeArray:function(t,e){var n=t.map(function(t){return t.id});console.log(n),categorys.remove({id:{$in:n}},{multi:!0},e)},push:function(t,e){categorys.insert(t,e)},update:function(t,e){categorys.update({id:t.id},t,{},e)},findCats:function(t){categorys.find({}).sort({create_time:-1}).exec(function(e,n){if(n&&n.length>0){var r=n.map(function(t){return{title:t.name,key:t.id}}),o=[RootCat].concat(r);t(0,o)}else t(e,[RootCat])})}},Bookmark:{push:function(t,e){bookmarks.insert(t,e)},getAll:function(t,e){bookmarks.find(t).sort({create_time:-1}).exec(e)},find:function(t,e){bookmarks.findOne({id:t},e)},remove:function(t,e){bookmarks.remove({id:t.id},{},e)},removeArray:function(t,e){var n=t.map(function(t){return t.id});console.log(n),bookmarks.remove({id:{$in:n}},{multi:!0},e)},update:function(t,e){bookmarks.update({id:t.id},t,{},e)},findTags:function(t,e){bookmarks.find({}).sort({create_time:-1}).exec(function(n,r){if(r&&r.length>0){var o=r.filter(function(t){return t.tag&&t.tag.length>0}).map(function(t){return t.tag}),i=[].concat.apply([],o).reduce(function(t,e){return e in t?t[e]++:t[e]=1,t},{}),a=sortObjectKeys(i);e(0,a.slice(0,t))}else e(n,[])})}},getAll:function(t){var e=this;e.Category.getAll(null,function(n,r){var o=!n&&r&&r.length>0?r:[];e.Bookmark.getAll({},function(e,n){var r=!e&&n&&n.length>0?n:[];t(o,r)})})}};exports.default=Database},596:function(t,e,n){"use strict";function r(t){console&&console.warn&&console.warn(t)}function o(){o.init.call(this)}function i(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function a(t,e,n,o){var a,u,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(u=t._events,void 0===u?(u=t._events=Object.create(null),t._eventsCount=0):(void 0!==u.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),u=t._events),s=u[e]),void 0===s)s=u[e]=n,++t._eventsCount;else if("function"==typeof s?s=u[e]=o?[n,s]:[s,n]:o?s.unshift(n):s.push(n),(a=i(t))>0&&s.length>a&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,r(c)}return t}function u(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,v(this.listener,this.target,t))}function s(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function c(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?p(o):l(o,o.length)}function f(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function l(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function h(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function p(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}var d,y="object"==typeof Reflect?Reflect:null,v=y&&"function"==typeof y.apply?y.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};d=y&&"function"==typeof y.ownKeys?y.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var g=Number.isNaN||function(t){return t!==t};t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var m=10;Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(t){if("number"!=typeof t||t<0||g(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");m=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||g(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return i(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)v(u,this,e);else for(var s=u.length,c=l(u,s),n=0;n<s;++n)v(c[n],this,e);return!0},o.prototype.addListener=function(t,e){return a(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return a(this,t,e,!0)},o.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,s(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,s(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,o,i,a;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():h(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return c(this,t,!0)},o.prototype.rawListeners=function(t){return c(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},597:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,o="/"===a.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+e||"."},e.normalize=function(t){var o=e.isAbsolute(t),i="/"===a(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}for(var c=[],s=u;s<o.length;s++)c.push("..");return c=c.concat(i.slice(u)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(136))},598:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},601:function(t,e,n){t.exports={default:n(602),__esModule:!0}},602:function(t,e,n){n(606),t.exports=n(21).Object.assign},603:function(t,e,n){"use strict";var r=n(138),o=n(604),i=n(605),a=n(74),u=n(137),s=Object.assign;t.exports=!s||n(61)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=r})?function(t,e){for(var n=a(t),s=arguments.length,c=1,f=o.f,l=i.f;s>c;)for(var h,p=u(arguments[c++]),d=f?r(p).concat(f(p)):r(p),y=d.length,v=0;y>v;)l.call(p,h=d[v++])&&(n[h]=p[h]);return n}:s},604:function(t,e){e.f=Object.getOwnPropertySymbols},605:function(t,e){e.f={}.propertyIsEnumerable},606:function(t,e,n){var r=n(27);r(r.S+r.F,"Object",{assign:n(603)})},670:function(t,e,n){t.exports={default:n(726),__esModule:!0}},671:function(t,e,n){t.exports={default:n(727),__esModule:!0}},723:function(t,e,n){"use strict";e.__esModule=!0;var r=n(208),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){return function(){var e=t.apply(this,arguments);return new o.default(function(t,n){function r(i,a){try{var u=e[i](a),s=u.value}catch(t){return void n(t)}if(!u.done)return o.default.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}},725:function(t,e,n){t.exports=n(812)},726:function(t,e,n){n(142),n(92),t.exports=n(729)},727:function(t,e,n){var r=n(21),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},729:function(t,e,n){var r=n(40),o=n(141);t.exports=n(21).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},812:function(t,e,n){(function(e){var r="object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this,o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(212),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}}).call(e,n(55))},844:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}}}},845:function(t,e,n){"use strict";(function(t,r){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(574),a=o(i),u=n(670),s=o(u),c=n(947),f=o(c),l=n(943),h=o(l),p=n(945),d=o(p),y=n(942),v=o(y),g=n(950),m=o(g),b=n(140),w=o(b),_=n(207);e.default={data:function(){return{loading:!0,openSetting:!1,layoutConfig:{siderTheme:"white",showSystab:!1,headerFixed:!0,siderFixed:!0}}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.$Loading("加载中"),t.User.info().then(function(t){t.ok&&(t.body.avatar=n(941),w.default.dispatch("updateAccount",t.body),e.initDict())})},initDict:function(){var e=this;t.Dict.get().then(function(t){if(t.ok){var n=t.body,o=!0,i=!1,a=void 0;try{for(var u,c=(0,s.default)(n);!(o=(u=c.next()).done);o=!0){var f=u.value;r.addDict(f.name,f.data)}}catch(t){i=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}}e.loading=!1,e.$Loading.close()})},updateLayoutConfig:function(t){var e=t.key,n=t.value;this.layoutConfig[e]=n}},computed:(0,a.default)({},(0,_.mapState)(["siderCollapsed"])),components:{appHead:h.default,appMenu:d.default,SysTabs:m.default,appFooter:v.default,appLayoutSetting:f.default}}}).call(e,n(139).default,n(60))},846:function(t,e,n){"use strict";(function(t,r){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(574),a=o(i),u=n(207),s=n(946),c=o(s);e.default={components:{appHeaderMessage:c.default},data:function(){return{searchText:"",infoMenu:[{key:"info",title:"个人信息",icon:"h-icon-user"},{key:"logout",title:"退出登录",icon:"h-icon-outbox"}],syncing:!1,submiting:!1}},computed:(0,a.default)({},(0,u.mapState)(["User"]),{siderCollapsed:{get:function(){return this.$store.state.siderCollapsed},set:function(t){this.$store.commit("updateSiderCollapse",t)}}}),methods:{goGithub:function(){window.open("https://github.com/Pluckypan/woody.admin")},sync:function(){var e=this;e.syncing||(e.syncing=!0,t.sync(function(t,n){e.syncing=!1,console.log(n)}))},submit:function(){var e=this;e.submiting||(e.submiting=!0,t.submit(function(t,n){e.submiting=!1,console.log(n)}))},trigger:function(t){"logout"==t?(r.removeLocal("Auth"),this.$router.replace({name:"login"})):this.$router.push({name:"accountBasic"})},showSettingModal:function(){this.$emit("openSetting")}}}}).call(e,n(894).default,n(72).default)},847:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},mounted:function(){},methods:{},computed:{}}},848:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(574),i=r(o),a=n(895),u=r(a),s=n(207),c=n(944),f=r(c);e.default={props:{theme:String},data:function(){return{menus:u.default}},watch:{$route:function(){this.menuSelect()}},mounted:function(){this.menuSelect()},computed:(0,i.default)({},(0,s.mapState)(["siderCollapsed"])),methods:{menuSelect:function(){this.$route.name&&this.$refs.menu.select(this.$route.name)},trigger:function(t){t.children.length>0||this.$router.push({name:t.key})}},components:{appLogo:f.default}}},849:function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(574),i=r(o),a=n(725),u=r(a),s=n(723),c=r(s),f=n(207);e.default={data:function(){return{messageList:[]}},mounted:function(){this.getMessageList()},methods:{init:function(){},getMessageList:function(){function e(){return n.apply(this,arguments)}var n=(0,c.default)(u.default.mark(function e(){var n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Home.getMessageList();case 2:n=e.sent,n.ok&&(this.messageList=n.body);case 4:case"end":return e.stop()}},e,this)}));return e}(),goMessageDetail:function(){this.$refs.messageDropdown.hide()}},computed:(0,i.default)({},(0,f.mapGetters)({user:"User",msgCount:"msgCount"}))}}).call(e,n(139).default)},850:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(671),o=function(t){return t&&t.__esModule?t:{default:t}}(r);n(207);e.default={props:{layoutConfig:Object},data:function(){return{}},mounted:function(){},methods:{copySetting:function(){this.$Clipboard({text:(0,o.default)(this.layoutConfig,null,2),showSuccessTip:"复制成功"})}}}},860:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(208),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=n(891);e.default={name:"TagsNav",props:{value:Object,homePage:String},data:function(){return{tagList:[]}},computed:{currentRouteObj:function(){var t=this.$route;return{name:t.name,params:t.params,query:t.query}}},methods:{init:function(){this.tagList=t.getLocal2Json("SYS_TABS")||[],this.addTab(this.$route)},beforeClose:function(){return this.$Confirm("确定要关闭这一页吗")},handleClose:function(t){var e=this;t.meta&&t.meta.beforeCloseName&&t.meta.beforeCloseName in beforeClose?new o.default(this.beforeClose[t.meta.beforeCloseName]).then(function(n){n&&e.close(t)}):this.close(t)},close:function(t){var e=this.tagList.indexOf(t);this.tagList.splice(e,1);var n=null;this.isCurrentTab(t)&&(this.tagList.length>e?n=this.tagList[e]:this.tagList.length>0?n=this.tagList[e-1]:this.$router.replace({name:"Home"}),n&&this.$router.replace(n)),this.saveLocal()},handleClick:function(t){this.$router.push(t)},showTitleInside:function(t){return(0,i.showTitle)(t,this)},isCurrentTab:function(t){return(0,i.routeEqual)(this.currentRouteObj,t)},addTab:function(t){if(t.name){var e=t.name,n=t.query,r=t.params,o=t.meta,a={name:e,query:n,params:r,meta:o||{}};(0,i.isExsit)(a,this.tagList)||(this.tagList.push(a),this.saveLocal())}},saveLocal:function(){t.saveLocal("SYS_TABS",this.tagList)}},mounted:function(){this.init()},watch:{$route:function(t){this.addTab(t)}}}}).call(e,n(72).default)},891:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.routeEqual=e.showTitle=e.isExsit=void 0;var o=n(670),i=r(o),a=n(206),u=r(a),s=function(t,e){var n=(0,u.default)(t),r=(0,u.default)(e);return n.length===r.length&&(0===n.length&&0===r.length||!n.some(function(n){return t[n]!=e[n]}))},c=(e.isExsit=function(t,e){var n=!0,r=!1,o=void 0;try{for(var a,u=(0,i.default)(e);!(n=(a=u.next()).done);n=!0){var s=a.value;if(c(s,t))return!0}}catch(t){r=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}return!1},e.showTitle=function(t,e){var n=t.meta.title;if(n)return n},e.routeEqual=function(t,e){var n=t.params||{},r=e.params||{},o=t.query||{},i=e.query||{};return t.name===e.name&&s(n,r)&&s(o,i)})},893:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(209),i=r(o),a=n(211),u=(r(a),i.default.create({baseURL:"https://api.github.com"})),s={Gist:{auth:function(t){u.defaults.headers.common.Authorization="token "+t,u.defaults.headers.common.Accept="application/vnd.github.v3.raw+json"},get:function(t){return u.get("/gists/"+t)},edit:function(t,e){return u({method:"POST",dataType:"JSON",url:"/gists/"+t,data:e})}},Repo:{login:function(t){return Ajax.postJson("/login",t)},logout:function(t){return Ajax.post("/logout",t)}}};e.default=s},894:function(t,e,n){"use strict";(function(t,r){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(671),a=o(i),u=n(595),s=o(u),c={sync:function(e){var n=t.getLocal("gist"),o=t.getLocal("token");r.Gist.auth(o),r.Gist.get(n).then(function(n){if(200==n.status){var r=n.data.files,o=r["category.json"],i=o&&o.content?t.safeParse(o.content):[];i=t.isArray(i)?i:[];var a=r["bookmark.json"],u=a&&a.content?t.safeParse(a.content):[];u=t.isArray(u)?u:[],e(0,{category:i,bookmark:u})}else e(1,n.status)}).catch(function(t){e(-1,t)})},submit:function(e){s.default.getAll(function(n,o){var i=t.getLocal("gist"),u=t.getLocal("token");r.Gist.auth(u);var s={files:{"category.json":{content:(0,a.default)(n)},"bookmark.json":{content:(0,a.default)(o)}}};r.Gist.edit(i,s).then(function(t){200==t.status?e(0,t.data):e(1,t.status)}).catch(function(t){e(-1,t)})})}};e.default=c}).call(e,n(72).default,n(893).default)},895:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[{title:"Dashboard",key:"Home",icon:"icon-monitor",count:1},{title:"我的书签",key:"tree",icon:"icon-ribbon"},{title:"管理书签",key:"woody",icon:"icon-book",children:[{title:"添加分类",key:"category"},{title:"分类列表",key:"categorys"},{title:"添加书签",key:"bookmark"},{title:"书签列表",key:"bookmarks"}]},{title:"系统设置",key:"sys-setting",icon:"icon-cog",children:[{title:"个人中心",key:"accountBasic"},{title:"安全设置",key:"securitySetting"}]}];e.default=r},911:function(t,e){},912:function(t,e){},914:function(t,e){},915:function(t,e){},926:function(t,e){},933:function(t,e){},936:function(t,e){},939:function(t,e){},941:function(t,e,n){t.exports=n.p+"static/images/src/images/avatar.8a80923.png"},942:function(t,e,n){function r(t){o||n(939)}var o=!1,i=n(54)(n(844),n(997),r,null,null);i.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/app/app-footer.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] app-footer.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},943:function(t,e,n){function r(t){o||n(936)}var o=!1,i=n(54)(n(846),n(994),r,null,null);i.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/app/app-header.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] app-header.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},944:function(t,e,n){function r(t){o||n(926)}var o=!1,i=n(54)(n(847),n(983),r,null,null);i.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/app/app-logo.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] app-logo.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},945:function(t,e,n){function r(t){o||n(914)}var o=!1,i=n(54)(n(848),n(969),r,null,null);i.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/app/app-menu.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] app-menu.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},946:function(t,e,n){function r(t){o||n(911)}var o=!1,i=n(54)(n(849),n(966),r,null,null);i.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/app/modules/app-header-message.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] app-header-message.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},947:function(t,e,n){function r(t){o||n(915)}var o=!1,i=n(54)(n(850),n(970),r,null,null);i.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/app/modules/app-layout-setting.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] app-layout-setting.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},950:function(t,e,n){function r(t){o||n(933)}var o=!1,i=n(54)(n(860),n(991),r,null,null);i.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/common/SysTabs/SysTabs.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] SysTabs.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},966:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DropdownCustom",{ref:"messageDropdown",staticClass:"app-header-message-vue",attrs:{placement:"bottom-end",className:"app-message-dropdown",toggleIcon:!1}},[n("div",{staticClass:"app-header-icon-item"},[n("Badge",{attrs:{count:t.msgCount.messages}},[n("i",{staticClass:"h-icon-bell"})])],1),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"h-panel"},[n("div",{staticClass:"h-panel-bar h-panel-bar-s"},[n("span",{staticClass:"h-panel-title"},[t._v("消息")])]),t._v(" "),n("div",{staticClass:"message-list-container common-list-container"},t._l(t.messageList,function(e){return n("div",{key:e.id,staticClass:"common-list-item",class:{readed:e.isReaded,unReaded:!e.isReaded},on:{click:function(n){return t.goMessageDetail(e)}}},[n("div",{staticClass:"common-list-meta"},[n("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),n("p",{staticClass:"description"},[t._v(t._s(e.description))])])])}),0),t._v(" "),t.messageList.length>0?n("div",{staticClass:"text-center h-panel-bar"},[n("span",{staticClass:"link"},[t._v("查看更多")])]):t._e()])])])},staticRenderFns:[]},t.exports.render._withStripped=!0},967:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?t._e():n("Layout",{staticClass:"app-frame",attrs:{siderCollapsed:t.siderCollapsed,siderFixed:t.layoutConfig.siderFixed}},[n("Sider",{attrs:{theme:t.layoutConfig.siderTheme}},[n("appMenu",{attrs:{theme:t.layoutConfig.siderTheme}})],1),t._v(" "),n("Layout",{attrs:{headerFixed:t.layoutConfig.headerFixed}},[n("HHeader",{attrs:{theme:"white"}},[n("appHead",{attrs:{layoutConfig:t.layoutConfig},on:{openSetting:function(e){t.openSetting=!0}}})],1),t._v(" "),t.layoutConfig.showSystab?n("SysTabs",{attrs:{homePage:"Home"}}):t._e(),t._v(" "),n("Content",[n("router-view")],1),t._v(" "),n("HFooter",[n("appFooter")],1)],1)],1),t._v(" "),n("Modal",{attrs:{type:"drawer-right"},model:{value:t.openSetting,callback:function(e){t.openSetting=e},expression:"openSetting"}},[n("appLayoutSetting",{attrs:{layoutConfig:t.layoutConfig}})],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},969:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-menu"},[n("appLogo"),t._v(" "),n("Menu",{ref:"menu",attrs:{datas:t.menus,inlineCollapsed:t.siderCollapsed,className:"h-menu-"+t.theme},on:{click:t.trigger}})],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},970:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-layout-setting-vue"},[n("div",{staticClass:"h-modal-header"},[t._v("系统布局配置")]),t._v(" "),n("div",{staticClass:"h-panel"},[n("div",{staticClass:"h-panel-body"},[n("Form",{staticClass:"setting-form",attrs:{labelWidth:120,labelPosition:"left",readonly:""}},[n("FormItem",{attrs:{label:"Sider风格"}},[n("SwitchList",{attrs:{small:"",datas:{white:"白色",dark:"暗色"}},model:{value:t.layoutConfig.siderTheme,callback:function(e){t.$set(t.layoutConfig,"siderTheme",e)},expression:"layoutConfig.siderTheme"}})],1),t._v(" "),n("FormItem",{attrs:{label:"固定 Header"}},[n("h-switch",{attrs:{small:""},model:{value:t.layoutConfig.headerFixed,callback:function(e){t.$set(t.layoutConfig,"headerFixed",e)},expression:"layoutConfig.headerFixed"}})],1),t._v(" "),n("FormItem",{attrs:{label:"固定侧边菜单"}},[n("h-switch",{attrs:{small:""},model:{value:t.layoutConfig.siderFixed,callback:function(e){t.$set(t.layoutConfig,"siderFixed",e)},expression:"layoutConfig.siderFixed"}})],1),t._v(" "),n("FormItem",{attrs:{label:"开启多Tab"}},[n("h-switch",{attrs:{small:""},model:{value:t.layoutConfig.showSystab,callback:function(e){t.$set(t.layoutConfig,"showSystab",e)},expression:"layoutConfig.showSystab"}})],1),t._v(" "),n("p",{staticClass:"dark-color font13",staticStyle:{padding:"10px 15px"}},[t._v("开启多Tab后，在 app-frame 中打开 keep-alive 才能开启页面缓存")])],1),t._v(" "),n("Button",{attrs:{block:""},on:{click:t.copySetting}},[t._v("复制配置")]),t._v(" "),n("p",{staticClass:"alert-warning"},[t._v("所有的配置都在 app-frame.vue 文件内，通过 layoutConfig 参数设置排版方式。")])],1)])])},staticRenderFns:[]},t.exports.render._withStripped=!0},983:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-logo"},[n("router-link",{attrs:{to:"/"}},[t._v("WOODY ADMIN")])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},991:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sys-tabs-vue"},[n("div",{ref:"scrollOuter",staticClass:"tabs-container"},[n("div",{staticClass:"tabs-body"},t._l(t.tagList,function(e,r){return n("span",{key:"sys-tab-"+r,staticClass:"tabs-item",class:{"tabs-item-chosen":t.isCurrentTab(e)},on:{click:function(n){return t.handleClick(e)}}},[n("div",{staticClass:"tabs-item-title"},[n("span",{class:e.meta.icon}),t._v(" "),n("span",[t._v(t._s(e.meta.title))])]),t._v(" "),t.homePage!=e.name?n("span",{staticClass:"tabs-item-close h-icon-close",on:{click:function(n){return n.stopPropagation(),t.handleClose(e)}}}):t._e()])}),0)])])},staticRenderFns:[]},t.exports.render._withStripped=!0},994:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-header"},[n("div",{staticStyle:{width:"100px",float:"left"}},[n("Button",{staticClass:"font20",attrs:{icon:t.siderCollapsed?"icon-align-right":"icon-align-left",size:"l",noBorder:""},on:{click:function(e){t.siderCollapsed=!t.siderCollapsed}}})],1),t._v(" "),n("div",{staticClass:"float-right app-header-info"},[n("AutoComplete",{attrs:{showDropdownWhenNoResult:!1,config:"globalSearch",placeholder:"全局搜索.."},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),t._v(" "),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"app-header-icon-item",attrs:{content:"系统布局配置",theme:"white"},on:{click:t.showSettingModal}},[n("i",{staticClass:"icon-content-left"})]),t._v(" "),n("appHeaderMessage"),t._v(" "),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"app-header-icon-item",attrs:{content:"更新书签",theme:"white",disabled:!0},on:{click:t.sync}},[n("i",{class:t.syncing?"h-icon-spinner":"h-icon-inbox"})]),t._v(" "),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"app-header-icon-item",attrs:{content:"提交书签",disabled:!0,theme:"white"},on:{click:t.submit}},[n("i",{class:t.submiting?"h-icon-spinner":"h-icon-outbox"})]),t._v(" "),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"app-header-icon-item",attrs:{content:"说明文档",theme:"white"},on:{click:t.goGithub}},[n("i",{staticClass:"h-icon-help"})]),t._v(" "),n("DropdownMenu",{attrs:{className:"app-header-dropdown",trigger:"hover",offset:"0 5",width:150,placement:"bottom-end",datas:t.infoMenu},on:{onclick:t.trigger}},[n("span",[t._v(t._s(t.User.name))])])],1)])},staticRenderFns:[]},t.exports.render._withStripped=!0},997:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-footer"},[t._v("\n    Copyright © 2019  woody·admin \n\t\t"),n("a",{attrs:{href:"https://github.com/Pluckypan/woody.admin",target:"_blank"}},[n("i",{staticClass:"h-icon-github"})]),t._v(" · \n\t\t"),n("a",{attrs:{href:"https://github.com/Pluckypan/Woody",target:"_blank"}},[t._v("Woody")])])}]},t.exports.render._withStripped=!0}});