webpackJsonp([6],{584:function(t,e,n){function o(t){i||n(917)}var i=!1,s=n(56)(n(882),n(970),o,null,null);s.options.__file="/Users/plucky/own/Woody/woody.admin/src/components/login.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] login.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},615:function(t,e,n){t.exports={default:n(617),__esModule:!0}},617:function(t,e,n){var o=n(21),i=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},670:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(218),s=o(i),a=n(219),l=(o(a),s.default.create({baseURL:"https://api.github.com"})),r={Gist:{auth:function(t){l.defaults.headers.common.Authorization="token "+t,l.defaults.headers.common.Accept="application/vnd.github.v3.raw+json"},get:function(t){return l.get("/gists/"+t)},edit:function(t,e){return l({method:"POST",dataType:"JSON",url:"/gists/"+t,data:e})}},Repo:{login:function(t){return Ajax.postJson("/login",t)},logout:function(t){return Ajax.post("/logout",t)}}};e.default=r},671:function(t,e,n){"use strict";(function(t,o){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(615),a=i(s),l=n(216),r=i(l),u={sync:function(e){var n=t.getLocal("gist"),i=t.getLocal("token");if(console.log("gist ="+n),null==n||"null"==n||null==i||"null"==i)return void e(-2,"invalid token");o.Gist.auth(i),o.Gist.get(n).then(function(n){if(200==n.status){var o=n.data.files,i=o["category.json"],s=i&&i.content?t.safeParse(i.content):[];s=t.isArray(s)?s:[];var a=o["bookmark.json"],l=a&&a.content?t.safeParse(a.content):[];l=t.isArray(l)?l:[],console.log(n.data);var r=n.data.owner;r.gist_url=n.data.html_url,r.gist_description=n.data.description,r.gist_created_at=n.data.created_at,r.gist_updated_at=n.data.updated_at,e(0,{category:s,bookmark:l,owner:r})}else e(1,n.status)}).catch(function(t){e(-1,t)})},submit:function(e){r.default.getAll(function(n,i){var s=t.getLocal("gist"),l=t.getLocal("token");if(console.log("gist ="+s),null==s||"null"==s||null==l||"null"==l)return void e(-2,"invalid token");o.Gist.auth(l);var r={files:{"category.json":{content:(0,a.default)(n)},"bookmark.json":{content:(0,a.default)(i)}}};o.Gist.edit(s,r).then(function(t){200==t.status?e(0,t.data):e(1,t.status)}).catch(function(t){e(-1,t)})})}};e.default=u}).call(e,n(62).default,n(670).default)},882:function(t,e,n){"use strict";(function(t,o,i){Object.defineProperty(e,"__esModule",{value:!0});var s=n(889);!function(t){t&&t.__esModule}(s);e.default={data:function(){return{login:{},loading:!1}},mounted:function(){this.init()},methods:{init:function(){this.login.gist=t.getLocal("gist"),this.login.token=t.getLocal("token")},submit:function(){var e=this.login.gist,n=this.login.token;if(!e||0==e.length)return void this.$Message("Gist require.");if(!n||0==n.length)return void this.$Message("Token require.");this.loading=!0;var s=this;t.saveLocal("gist",e),t.saveLocal("token",n),o.sync(function(t,e){s.loading=!1,t?s.$Message("Login Failed."+t+" "+e):(i.User.push(e.owner),i.Category.push(e.category),i.Bookmark.push(e.bookmark),s.$router.replace("/"))})}}}}).call(e,n(62).default,n(671).default,n(216).default)},889:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=new t({gist:"",token:""})}).call(e,n(204))},917:function(t,e){},970:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-vue"},[n("div",{staticClass:"login-container"},[n("div",{staticClass:"login-content"},[n("div",{staticClass:"login-title"},[t._v("Woody Admin")]),t._v(" "),n("div",{staticClass:"login-name"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.login.gist,expression:"login.gist"}],attrs:{type:"text",placeholder:"Gist"},domProps:{value:t.login.gist},on:{input:function(e){e.target.composing||t.$set(t.login,"gist",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"login-password"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.login.token,expression:"login.token"}],attrs:{type:"password",placeholder:"Token"},domProps:{value:t.login.token},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},input:function(e){e.target.composing||t.$set(t.login,"token",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"buttonDiv"},[n("Button",{attrs:{loading:t.loading,block:"",color:"primary",size:"l"},on:{click:t.submit}},[t._v("Sign in")])],1)]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"copyright"},[t._v("\n\t\t\tCopyright Â© 2019 Woody. -\n\t\t\t"),n("a",{attrs:{href:"https://github.com/Pluckypan/Woody"}},[t._v("Woody")])])}]},t.exports.render._withStripped=!0}});